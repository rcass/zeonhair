(function(e){var i=[];var f=document.createElement("script");f.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js";f.type="text/javascript";f.async="true";var k=document.getElementsByTagName("script")[0];k.parentNode.insertBefore(f,k);function u(w){var s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(w);return s?{r:parseInt(s[1],16),g:parseInt(s[2],16),b:parseInt(s[3],16)}:null}function c(s){if(!s.color||"undefined"===typeof s.color||("undefined"!==typeof s.transparent&&"transparent"===s.transparent)){return false}else{var x=s.opacity?s.opacity:1;if(x<1){var w=u(s.color)}return x<1?"rgba( "+w.r+","+w.g+","+w.b+","+x+" )":"#"+(s.color)}}function b(s){if(s.auto&&"auto"===s.auto){return s.auto}else{if(s.width){return s.width+(s.unit&&"px"!==s.unit?s.unit:"px")}}return false}function m(s){var w=c(s);return s.style&&"none"!==s.style&&s.width?s.width+"px "+s.style+(w?" "+w:""):false}function v(y,w){w=w||parent.wp.customize.previewedDevice.get();var x=e.parseJSON(y)||{},z=_.omit(x,["tablet_landscape","tablet","mobile"]),A,s;if("desktop"!==w){A=x[w]||{}}if("mobile"===w){s=_.extend(z,x.tablet)}else{if("tablet"===w){s=_.extend(z,x.tablet_landscape)}else{if("tablet_landscape"===w){s=z}}}if("desktop"!==w){return _.extend(s,A)}else{return x}}var h={init:function(){e(document).on("themify-responsive-preview-background",this.controlBackground).on("themify-responsive-preview-color-control",this.controlColor).on("themify-responsive-preview-fonts-control",this.controlFonts).on("themify-responsive-preview-border-control",this.controlBorder).on("themify-responsive-preview-margin-control",this.controlMargin).on("themify-responsive-preview-padding-control",this.controlMargin)},controlBackground:function(s,A,y){var F=e(".color-transparent",A.container),E=e(".disable-control",A.container),x=e(".open-media-wrap, .image-label, .background-style, .background-position",A.container),z=e(".themify_control_preview",A.container);var G=v(y,A.getCurrentDevice()),C="transparent"===G.transparent?true:false,w="noimage"===G.noimage?true:false,B=G.src&&""!==G.src?true:false;h._colorChange(A,G);F.prop("checked",C);if(C){F.parent().prev().addClass("transparent")}else{F.parent().prev().removeClass("transparent")}E.prop("checked",w);if(w){x.stop().hide()}else{x.stop().show()}h._dropdownChange(e(".position-style",A.container),G,"position");h._dropdownChange(e(".image-style",A.container),G,"style");if(B){var D=e('<a href="#" class="remove-image ti-close"></a><img src="'+G.src+'" />').css("display","inline-block");z.html(D).show()}else{z.html("")}},controlColor:function(y,w,x){var s=v(x,w.getCurrentDevice());h._colorChange(w,s)},controlFonts:function(y,w,x){var s=v(x,w.getCurrentDevice());h._fontStyleChange(w,s);h._textTransformChange(w,s);h._textAlign(w,s);h._inputChange(e(".font_size_num",w.container),s,"sizenum");h._dropdownChange(e(".font_size_unit",w.container),s,"sizeunit");h._fontFamilyChange(e(".themify_font_family",w.container),s);h._inputChange(e(".font_line_num",w.container),s,"linenum");h._dropdownChange(e(".font_line_unit",w.container),s,"lineunit");h._dropdownChange(e(".font_weight_select",w.container),s,"weight")},controlBorder:function(y,w,x){var s=v(x,w.getCurrentDevice());h._hideComponentSameChange(e(".same",w.container),w,s);h._borderColorChange(w,s);h._dropdownBorderSameChange(e(".border-style",w.container),w,s);h._dimensionSameChange(e(".dimension-width",w.container),w,s)},controlMargin:function(y,w,x){var s=v(x,w.getCurrentDevice());h._dimensionSameChange(e(".dimension-width",w.container),w,s);h._dropdownSameChange(e(".dimension-unit",w.container),s,"unit");h._hideComponentSameChange(e(".same",w.container),w,s);h._autoSameChange(e(".auto-prop",w.container),w,s)},_colorChange:function(w,s){var y=e("#"+w.id+"_color_picker",w.container),x=s.color||"";y.minicolors("value",x);y.minicolors("opacity",s.opacity||"");if(_.isEmpty(x)){y.closest(".color-picker").find(".remove-color").hide()}else{y.closest(".color-picker").find(".remove-color").show()}},_borderColorChange:function(w,s){var x=e(".color-select",w.container),z=e('.color-select[data-side="top"]',w.container),y=e(".same",w.container);if(y.prop("checked")){if(z.val().replace("#","")===s.color&&y.prop("checked")&&w.isResponsiveStyling()){if(_.isUndefined(w.value[w.id][w.getCurrentDevice()])){w.value[w.id][w.getCurrentDevice()]={}}w.value[w.id][w.getCurrentDevice()].color=s.color;w.value[w.id][w.getCurrentDevice()].opacity=s.opacity;w.setting.set(JSON.stringify(w.value[w.id]))}z.minicolors("value",s.color||"");z.minicolors("opacity",s.opacity||"")}else{x.each(function(){var A=e(this).data("side");if(_.isUndefined(s[A])){s[A]={}}if("top"==A&&_.isEmpty(s[A].color)){s[A].color=s.color;s[A].opacity=s.opacity}e('.color-select[data-side="'+A+'"]',w.container).minicolors("value",s[A].color||"");e('.color-select[data-side="'+A+'"]',w.container).minicolors("opacity",s[A].opacity||"");if(_.isEmpty(s[A].color)){e(this).closest(".color-picker").find(".remove-color").hide()}})}},_fontStyleChange:function(w,s){var x=e(".themify_font_style",w.container);x.find(".button").each(function(){if(s[e(this).data("style")]&&!_.isEmpty(s[e(this).data("style")])){e(this).addClass("selected")}else{e(this).removeClass("selected")}})},_textTransformChange:function(w,s){var x=e(".themify_text_transform",w.container);if(s.texttransform){x.find('.button[data-texttransform="'+s.texttransform+'"]').addClass("selected").siblings().removeClass("selected")}else{x.find(".button").removeClass("selected")}},_textAlign:function(x,w){var s=e(".themify_font_align",x.container);if(w.align){s.find('.button[data-align="'+w.align+'"]').addClass("selected").siblings().removeClass("selected")}else{s.find(".button").removeClass("selected")}},_dropdownChange:function(z,w,x){var y=w[x]&&!_.isEmpty(w[x])?w[x]:"",s=z.find('option[value="'+y+'"]');if(s.length){s.prop("selected",true)}else{z.find("option").prop("selected",false)}},_dropdownSameChange:function(x,s,w){x.each(function(){var z=e(this).data("side"),A=s[z][w]&&!_.isEmpty(s[z][w])?s[z][w]:"",y=e(this).find('option[value="'+A+'"]');if(y.length){y.prop("selected",true)}else{e(this).find("option").prop("selected",false)}})},_inputChange:function(y,s,w){var x=s[w]&&!_.isEmpty(s[w])?s[w]:"";y.val(x)},_fontFamilyChange:function(w,s){w.trigger("focus");if(s.family&&!_.isEmpty(s.family)){w.find('option[data-value="'+s.family.name+'"]').prop("selected",true).trigger("change");w.data("selected",s.family.name)}else{w.find("option").first().prop("selected",true).trigger("change");w.data("selected","")}},_hideComponentSameChange:function(A,x,w){var y=e(".component",x.container),z=e(".dimension-row-label:not(.same-label)",x.container),s=A.parent().parent().find(".same-label");if((w.same&&"same"==w.same)||""!==w.same){A.prop("checked",true);y.hide();z.hide();s.text(s.data("same"))}else{A.prop("checked",false);y.show();z.show();s.text(s.data("notsame"))}},_dropdownBorderSameChange:function(y,w,s){var x=e(".same",w.container);y.each(function(){var z=e(this).data("side");if("top"==z&&_.isEmpty(s[z].style)){s[z].style=s.style}if(s[z].style&&!_.isEmpty(s[z].style)){if(e(this).val()===s[z].style&&x.prop("checked")&&"top"===z&&w.isResponsiveStyling()){if(_.isUndefined(w.value[w.id][w.getCurrentDevice()])){w.value[w.id][w.getCurrentDevice()]={}}w.value[w.id][w.getCurrentDevice()].style=s[z].style;w.value[w.id][w.getCurrentDevice()].same="same";w.setting.set(JSON.stringify(w.value[w.id]))}e(this).val(s[z].style)}else{e(this).find("option").prop("selected",false)}})},_dimensionSameChange:function(y,w,s){var x=e(".same",w.container);y.each(function(){var z=e(this).data("side");if(_.isUndefined(s[z])){s[z]={}}if("top"===z){s[z].width=s.width}if(e(this).val()===s[z].width&&x.prop("checked")&&"top"===z&&w.isResponsiveStyling()){if(_.isUndefined(w.value[w.id][w.getCurrentDevice()])){w.value[w.id][w.getCurrentDevice()]={}}w.value[w.id][w.getCurrentDevice()].width=s[z].width;w.setting.set(JSON.stringify(w.value[w.id]))}e(this).val(s[z].width)})},_autoSameChange:function(x,w,s){x.each(function(){var z=e(this).data("side"),y=e(this).data("hide");if(_.isUndefined(s[z])){s[z]={}}if("top"===z){s[z].auto=s.auto}if("auto"===s[z].auto){e(this).prop("checked",true);e("."+y,w.container).addClass("hide-horizontally")}else{e(this).prop("checked",false);e("."+y,w.container).removeClass("hide-horizontally")}})}};var l=wp.customize,d=parent.wp.customize,o=e("body");l("header_textcolor",function(s){s.bind(function(w){e("#header a, .site-title a, .site-description").css("color",w)})});l("link_color",function(s){s.bind(function(w){e("a").css("color",w)})});l("text_color",function(s){s.bind(function(w){o.css("color",w)})});if(!themifyCustomizer){return}function g(s){return e.trim(s).replace(/[^a-zA-Z0-9]/ig,"")}function a(C,J,D){var z="",x=parent.wp.customize.previewedDevice.get();if("desktop"!==x){z="screen and (max-width: "+themifyCustomizer.breakpoints[x]+"px)"}var G=t(J,z);if(!_.isUndefined(G)){for(var K in D){if(D[K]){G.style[K]=D[K]}else{G.style[K]=""}}}else{var A="";for(var K in D){if(D[K]){A+=K+":"+D[K]+";"}}var E=n(),B=J+"{"+A+"}",y=Math.max(E.cssRules.length-3,0);if(""!==z){var F=n(z);if(_.isUndefined(F)){B="@media "+z+" { "+B+" }";var H=_.values(themifyCustomizer.breakpoints);y=E.cssRules.length;if(E.cssRules.length&&E.cssRules[E.cssRules.length-1].media){if("tablet_landscape"===x){var w=p("screen and (max-width: "+H[1]+"px)");if(!_.isUndefined(w)){y=w}else{var s=p("screen and (max-width: "+H[2]+"px)");if(!_.isUndefined(s)){y=s}}}if("tablet"===x){var I=p("screen and (max-width: "+H[0]+"px)");if(!_.isUndefined(I)){y=I+1}else{var s=p("screen and (max-width: "+H[2]+"px)");if(!_.isUndefined(s)){y=s}}}}}else{E=F;y=F.cssRules.length}}E.insertRule(B,y)}}function n(z){z=z||"";var y=e("#themify-customize").get(0).sheet;if(""===z){return y}var s=y.cssRules?y.cssRules:y.rules,w;if(""!==z){for(var x=0;x<s.length;x++){if(s[x].media&&s[x].cssText.indexOf(z)>-1){w=s[x];break}}return w}}function p(z){z=z||"";var y=e("#themify-customize").get(0).sheet;if(""===z){return y}var s=y.cssRules?y.cssRules:y.rules,w;if(""!==z){for(var x=0;x<s.length;x++){if(s[x].media&&s[x].cssText.indexOf(z)>-1){w=x;break}}return w}}function t(C,B){B=B||"";if(e("#themify-customize").length==0){e("head").append('<style id="themify-customize"></style>')}var A=e("#themify-customize").get(0).sheet,w=A.cssRules?A.cssRules:A.rules,x;if(""===B){for(var y=0;y<w.length;y++){if(!_.isUndefined(w[y].selectorText)&&w[y].selectorText.toLowerCase()==C){x=w[y];break}}}else{for(var y=0;y<w.length;y++){if(w[y].media&&w[y].cssText.indexOf(B)>-1){var s=w[y].cssRules?w[y].cssRules:w[y].rules;for(var z=0;z<s.length;z++){if(!_.isUndefined(s[z].selectorText)&&s[z].selectorText.toLowerCase()==C){x=s[z];break}}break}}}return x}function r(s,w){if(s){e.each(s,function(z,x){var y=d.control.instance(z+"_ctrl");if(!_.isEmpty(y.setting.get())){var A=y.setting.get();e.event.trigger(w,[y,A])}})}}e(document).on("themify.customizer",function(w,y,x){var s="themify-customizer-css-"+y;if(e("#"+s).length>0){e("#"+s).remove()}a(s,x,i[y]);if(y==="sitelogo"&&typeof i[y]["color"]!=="undefined"){var z=i[y]["color"];y=y+"a";if(!i[y]){i[y]=[]}i[y]["color"]=z;e.event.trigger("themify.customizer",[y,"#site-logo a"])}});d.previewedDevice.bind("change",function(s){r(themifyCustomizer.backgroundControls,"themify-responsive-preview-background");r(themifyCustomizer.colorControls,"themify-responsive-preview-color-control");r(themifyCustomizer.fontControls,"themify-responsive-preview-fonts-control");r(themifyCustomizer.borderControls,"themify-responsive-preview-border-control");r(themifyCustomizer.marginControls,"themify-responsive-preview-margin-control");r(themifyCustomizer.paddingControls,"themify-responsive-preview-padding-control");if(themifyCustomizer.logoControls){e.each(themifyCustomizer.logoControls,function(y,w){var x=d.control.instance(y+"_ctrl");if("desktop"!==s){e(x.container).closest(".customize-control-themify_subaccordion_start").addClass("responsive-na")}else{e(x.container).closest(".customize-control-themify_subaccordion_start").removeClass("responsive-na")}})}});e(window).on("message",function(s){if(s.originalEvent&&s.originalEvent.data&&!_.isEmpty(s.originalEvent.data)){var w=e.parseJSON(s.originalEvent.data)||{};if("themify-customize-clearall"===w.id){i=[];e("#themify-customize").remove()}}});function q(y,s){var w=["font-family","font-weight","font-size","font-style","text-transform","text-decoration","text-align","line-height"];if(!i[y]){i[y]=[]}_.each(w,function(z){i[y][z]=false});if(s){if(s.family){if(s.family.fonttype&&"google"===s.family.fonttype){var x=s.family.name;if(s.weight&&s.weight!=="normal"){x+=":normal,"+s.weight}if(e('link[href*="'+x.replace(/ /g,"+")+'"]').length===0){WebFont.load({google:{families:[x]}})}}i[y]["font-family"]=s.family.name}if(!s.nostyle){if(s.bold){i[y]["font-weight"]="bold"}if(s.italic){i[y]["font-style"]="italic"}else{if(s.normal){i[y]["font-style"]="normal"}}if(s.linethrough){i[y]["text-decoration"]="line-through"}else{if(s.underline){i[y]["text-decoration"]="underline"}else{i[y]["font-weight"]=i[y]["font-style"]="normal";i[y]["text-decoration"]="none"}}if(!s.normal){if(s.bold){i[y]["font-weight"]="bold"}if(s.italic){i[y]["font-style"]="italic"}}else{i[y]["font-style"]="normal"}}if(s.texttransform){i[y]["text-transform"]="notexttransform"!==s.texttransform?s.texttransform:"none"}if(s.align){i[y]["text-align"]="noalign"!==s.align?s.align:false}if(s.sizenum>0){i[y]["font-size"]=s.sizenum+(s.sizeunit?s.sizeunit:"px")}if(s.linenum>0){i[y]["line-height"]=s.linenum+(s.lineunit?s.lineunit:"px")}if(s.weight){i[y]["font-weight"]=s.weight}else{if(!s.bold){i[y]["font-weight"]=false}}}}if(themifyCustomizer.fontControls){e.each(themifyCustomizer.fontControls,function(w,s){l(w,function(x){x.bind(function(A){var y=v(A),z=g(s);q(z,y);e.event.trigger("themify.customizer",[z,s])})})})}if(themifyCustomizer.logoControls){e.each(themifyCustomizer.logoControls,function(w,s){l(w,function(x){x.bind(function(E){var y=e.parseJSON(E),D=e(s),C=g(s);if(!i[C]){i[C]=[]}q(C,y);if(y.mode&&"none"===y.mode){i[C]["display"]="none"}else{i[C]["display"]="block";var A=e("img",D);if(A.length>0){A.remove()}if(y.mode&&"image"===y.mode){D.find("span").hide();if("undefined"!==typeof y.src&&y.src){if(e("a",D).length>0){D.find("a").prepend('<img src="'+y.src+'" />');if(y.link){D.find("a").attr("href",y.link)}}else{D.prepend('<img src="'+y.src+'" />')}var B=y.imgwidth?y.imgwidth:"",z=y.imgheight?y.imgheight:"";D.find("img").css({width:B,height:z})}}else{D.find("span").show();if(e("a",D).length>0){if(y.link){D.find("a").attr("href",y.link)}i[C]["color"]=c(y)}e.post(themifyCustomizer.ajaxurl,{action:"themify_customizer_get_option",option:"blogname",nonce:themifyCustomizer.nonce},function(F){if("notfound"!==F){e("#site-logo, #footer-logo").find("span").text(F)}})}}e.event.trigger("themify.customizer",[C,s])})})})}if(themifyCustomizer.taglineControls){e.each(themifyCustomizer.taglineControls,function(w,s){l(w,function(x){x.bind(function(E){var y=e.parseJSON(E),D=e(s),C=g(s);if(!i[C]){i[C]=[]}q(C,y);if(y.mode&&"none"===y.mode){i[C]["display"]="none"}else{if("none"!==y.mode){i[C]["display"]="block";var A=e("img",D);if(A.length>0){A.remove()}if(y.mode&&"image"===y.mode){D.find("span").hide();if("undefined"!==typeof y.src&&y.src){D.prepend('<img src="'+y.src+'" />');var B=y.imgwidth?y.imgwidth:"",z=y.imgheight?y.imgheight:"";D.find("img").css({width:B,height:z})}}else{D.find("span").show();i[C]["color"]=c(y);e.post(themifyCustomizer.ajaxurl,{action:"themify_customizer_get_option",option:"blogdescription",nonce:themifyCustomizer.nonce},function(F){if("notfound"!=F){D.find("span").text(F)}})}}}e.event.trigger("themify.customizer",[C,s])})})})}if(themifyCustomizer.backgroundControls){e.each(themifyCustomizer.backgroundControls,function(w,s){l(w,function(x){x.bind(function(A){var y=v(A),B=g(s),z=["image","color","repeat","size","position"];if(!i[B]){i[B]=[]}_.each(z,function(C){i[B]["background-"+C]=false});if(y&&"noimage"!==y.noimage&&"undefined"!==typeof y.src){i[B]["background-image"]="url("+y.src+")"}if("undefined"!==typeof y.style&&y.style){if("fullcover"===y.style){i[B]["background-size"]="cover";i[B]["background-repeat"]="no-repeat"}else{i[B]["background-size"]="auto";i[B]["background-repeat"]=y.style}}if("undefined"!==typeof y.position&&y.position){i[B]["background-position"]=y.position}i[B]["background-color"]=c(y);e.event.trigger("themify.customizer",[B,s])})})})}if(themifyCustomizer.colorControls){e.each(themifyCustomizer.colorControls,function(w,s){l(w,function(x){x.bind(function(z){var y=v(z),A=g(s);if(!i[A]){i[A]=[]}i[A]["color"]=c(y);e.event.trigger("themify.customizer",[A,s])})})})}if(themifyCustomizer.imageselectControls){e.each(themifyCustomizer.imageselectControls,function(w,s){l(w,function(x){x.bind(function(D){var z=e.parseJSON(D),C=e(s);if(z){var B=g(s),A=e("img#"+B,C);if(A.length>0){A.remove()}if(z.src){var y='<img id="'+B+'" src="'+z.src+'"';if(z.imgwidth){y+=' width="'+z.imgwidth+'"'}if(z.imgheight){y+=' height="'+z.imgheight+'"'}y+="/>";e(C).prepend(y)}}})})})}if(themifyCustomizer.borderControls){e.each(themifyCustomizer.borderControls,function(w,s){l(w,function(x){x.bind(function(A){var y=v(A),B=g(s),z=["border","border-color","border-top","border-left","border-bottom","border-right","border-width","border-style"];if(!i[B]){i[B]=[]}_.each(z,function(C){delete i[B][C]});if(y&&"disabled"!==y.disabled){if("same"!==y.same){_.each(["top","left","bottom","right"],function(C){if(y[C]){if("top"===C){_.extend(y[C],_.pick(y,_.keys(y[C])))}i[B]["border-"+C]=m(y[C])}})}else{i[B]["border"]=m(y)}}e.event.trigger("themify.customizer",[B,s])})})})}if(themifyCustomizer.marginControls){e.each(themifyCustomizer.marginControls,function(w,s){l(w,function(x){x.bind(function(A){var y=v(A),B=g(s),z=["margin","margin-top","margin-left","margin-bottom","margin-right"];if(!i[B]){i[B]=[]}_.each(z,function(C){delete i[B][C]});if(y&&"disabled"!==y.disabled){if("same"!==y.same){_.each(["top","left","bottom","right"],function(C){if(y[C]){if("top"===C){_.extend(y[C],_.pick(y,_.keys(y[C])))}i[B]["margin-"+C]=b(y[C])}})}else{i[B]["margin"]=b(y)}}e.event.trigger("themify.customizer",[B,s])})})})}if(themifyCustomizer.paddingControls){e.each(themifyCustomizer.paddingControls,function(w,s){l(w,function(x){x.bind(function(z){var y=v(z),B=g(s),A=["padding","padding-top","padding-left","padding-bottom","padding-right"];if(!i[B]){i[B]=[]}_.each(A,function(C){delete i[B][C]});if(y&&"disabled"!==y.disabled){if("same"!==y.same){_.each(["top","left","bottom","right"],function(C){if(y[C]){if("top"===C){_.extend(y[C],_.pick(y,_.keys(y[C])))}i[B]["padding-"+C]=b(y[C])}})}else{i[B]["padding"]=b(y)}}e.event.trigger("themify.customizer",[B,s])})})})}if(themifyCustomizer.widthControls){e.each(themifyCustomizer.widthControls,function(w,s){l(w,function(x){x.bind(function(z){var y=e.parseJSON(z),A=g(s);if(!i[A]){i[A]=[]}i[A]["height"]=b(y);e.event.trigger("themify.customizer",[A,s])})})})}if(themifyCustomizer.heightControls){e.each(themifyCustomizer.heightControls,function(w,s){l(w,function(x){x.bind(function(z){var y=e.parseJSON(z),A=g(s);if(!i[A]){i[A]=[]}i[A]["height"]=b(y);e.event.trigger("themify.customizer",[A,s])})})})}if(themifyCustomizer.positionControls){e.each(themifyCustomizer.positionControls,function(w,s){l(w,function(x){x.bind(function(y){var z=e.parseJSON(y),B=g(s),A=["position","top","left","bottom","right"];if(!i[B]){i[B]=[]}_.each(A,function(C){i[B][C]=false});if(z&&z.position){i[B]["position"]=z.position;_.each(["top","right","bottom","left"],function(C){if(z[C]){i[B][C]=b(z[C])}})}e.event.trigger("themify.customizer",[B,s])})})})}if(themifyCustomizer.customcssControls){var j=[];e.each(themifyCustomizer.customcssControls,function(w,s){j[w]=true;l(w,function(x){x.bind(function(A){var z="themify-customize-customcss",y=e("#"+z);if(y.length>0){y.remove()}if(A){A=A.replace(/[\n]/g,"").replace(/[\r]/g,"").replace(/[\t]/g,"");e("head").append('<style type="text/css" id="'+z+'">'+A+"</style>")}})})})}h.init()})(jQuery);