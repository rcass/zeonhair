(function(e){e(document).ready(function(n){var w=themify_js_vars.blog_url,C=n("body"),q=n("#wpbody"),u=n("#themify");u.find(".maintab").not('[aria-expanded="false"]').each(function(){var M=n(this).find(".subtabnav"),L=M.outerHeight();n(this).find(".subtab").css("minHeight",L)});if(n("#themify_404_page_autocomplete").length>0){var y={};n("#themify_404_page_autocomplete").autocomplete({minLength:2,autoFocus:true,classes:{"ui-autocomplete":"highlight"},source:function(N,L){var M=N.term;if(M in y){L(y[M]);return}n.ajax({url:ajaxurl,dataType:"json",type:"POST",data:{term:M,action:"themify_get_404_pages"},success:function(O){y[M]=O;L(O)}})},select:function(L,M){L.preventDefault();n("#themify_404_page_autocomplete").val(M.item.label).next('input[type="hidden"]').val(M.item.value)}}).focus(function(){n(this).autocomplete("search")})}if(typeof ThemifyBuilderCommon==="undefined"&&n(".themify_builder_lite").length>0){if(n(".themify_tooltip").length===0){n('<div class="themify_tooltip">Upgrade to premium version to get this feature<div class="themify_tooltip_arrow"><div class="themify_tooltip_arrow_border"></div><div class="themify_tooltip_arrow_background"></div></div></div>').appendTo("body")}var z=n(".themify_tooltip").outerHeight(true)+10;n(".themify_builder_lite,.themify_is_premium_module").each(function(){if(n(this).children(".themify_builder_lite_modal").length===0){n('<div class="themify_builder_lite_modal"></div>').appendTo(n(this)).mouseenter(function(M){var L=n(this).offset();n(".themify_tooltip").css({top:L.top-z,left:L.left+100}).delay(500).queue(function(N){n(this).stop().fadeIn("fast");N()})}).mouseleave(function(){n(".themify_tooltip").hide()})}})}var g=n("#setting>.subtabnav");var m;if(g.length>0){m=g.offset().top-32}var t=function(N,M){var L=N.type=="tabscreate"?window.location:M.newTab.find("a")[0];if("replaceState" in history){history.replaceState(null,null,L.hash||null)}};n("#content, .maintab").tabs({fx:{opacity:"toggle",duration:200},cache:true,select:function(){n(this).css({height:n(this).height(),overflow:"hidden"})},show:function(){n(this).css({height:"auto",overflow:"visible"});if(g.length>0){m=g.offset().top-32}},beforeActivate:t,create:t});if(g.length>0){n(window).scroll(function(){if(n(this).scrollTop()>m){if(!g.hasClass("themify_settings_fixed")){g.addClass("themify_settings_fixed")}}else{g.removeClass("themify_settings_fixed")}})}n(".valid_num").keyup(function(){if(!J(n(this).val())){n(this).val(n(this).val().substring(0,(n(this).val().length-1)))}}).on("input paste",function(){n(this).trigger("keyup")});n(".save-button").click(function(M){M.preventDefault();A();var L=u.serialize();n.post(ajaxurl,{action:"themify_save",data:L,nonce:themify_js_vars.nonce},function(){F();n("body").trigger("themify_save")});return false});if(u.length>0){n(document).on("keydown",function(L){if(83==L.which&&(true==L.ctrlKey||true==L.metaKey)){L.preventDefault();n(".save-button").trigger("click")}})}n("#reset-styling").on("click",function(N){N.preventDefault();var L=confirm(themify_lang.confirm_reset_styling);if(L){A();var M=u.serialize();n.post(ajaxurl,{action:"themify_reset_styling",data:M,nonce:themify_js_vars.nonce},function(){F();window.location.reload(true)})}});n("#reset-setting").on("click",function(N){N.preventDefault();var L=confirm(themify_lang.confirm_reset_settings);if(L){A();var M=u.serialize();n.post(ajaxurl,{action:"themify_reset_setting",data:M,nonce:themify_js_vars.nonce},function(){F();window.location.reload(true)})}});q.on("click",".upgrade-framework, .upgrade-theme",function(O){O.preventDefault();var N=confirm(themify_lang.check_backup),M="",L="";if(n(this).hasClass("upgrade-theme")){M="theme";L="&themeversion="+(n("#themeversiontoreinstall").length==1?n("#themeversiontoreinstall").val():"latest")}else{M="framework"}if(N){if(n(this).parent().hasClass("login")){K()}else{window.location=w+"wp-admin/admin.php?page=themify&action=upgrade&type="+M+L+"&login=false"}}});q.on("click",".upgrade-login",function(P){P.preventDefault();if(!n(".prompt-box").hasClass("update-plugin")){var N=n(this),Q=N.parent().parent().find(".username").val(),M=N.parent().parent().find(".password").val(),L=n(".upgrade-theme").parent().hasClass("login");if(Q!=""&&M!=""){j();A();n.post(ajaxurl,{action:"themify_validate_login",nonce:themify_js_vars.nonce,type:"theme",login:L,username:Q,password:M},function(R){R=n.trim(R);if("subscribed"==R){F();n("#themify_update_form").submit()}else{if("invalid"==R){F("error");K("error")}else{if("unsuscribed"==R){F("error");K("unsuscribed")}}}})}else{F("error");K("error")}}else{if(n(".prompt-box").hasClass("update-plugin")){P.preventDefault();var N=n(this),Q=N.parent().parent().find(".username").val(),M=N.parent().parent().find(".password").val(),O=n(".themify-builder-upgrade-plugin");L=O.closest(".notifications").find(".update").hasClass("login");if(Q!==""&&M!==""){j();A();n.post(ajaxurl,{action:"themify_builder_validate_login",type:"plugin",login:L,username:Q,password:M,nicename_short:O.data("nicename_short"),update_type:O.data("update_type")},function(R){R=n.trim(R);if(R==="true"){F();n("#themify_update_form").append('<input type="hidden" name="plugin" value="'+O.data("plugin")+'" /><input type="hidden" name="package_url" value="'+O.data("package_url")+'" />').submit()}else{if(R==="false"||"invalid"===R){F("error");K("error")}}})}else{F("error");K("error")}}}});n(".overlay").on("click",function(){j()});n(".themify_changelogs").on("click",function(N){N.preventDefault();var O=n(this),L=O.data("changelog");n(".show-login, .show-error").hide();n(".alert").addClass("busy").fadeIn(300);n(".overlay, .prompt-box").fadeIn(300);var M=n('<iframe src="'+L+'" />');M.on("load",function(){n(".alert").removeClass("busy").fadeOut(300)}).prependTo(".prompt-box");n(".prompt-box").addClass("show-changelog")});n(".padding-switch, .margin-switch").click(function(){var M=n(this).parent().parent().parent();var L=0;if(n(this).is(":checked")){if(M.find(".individuals input:first").val()!=""){L=M.find(".individuals input:first").val()}M.find(".individuals").fadeOut(200,function(){M.find(".same").fadeIn(200).find("input").val(L)}).find("input").val("")}else{if(M.find(".same input").val()!=""){L=M.find(".same input").val()}M.find(".same").fadeOut(200,function(){M.find(".individuals").fadeIn(200).find("input").val(L)}).find("input").val("")}});n(".border-switch").click(function(){var O=n(this).parent().parent(),M="",N=0,L="";if(n(this).is(":checked")){if(O.parent().find(".individuals input[type='text']:nth-child(1)").val()!=""){M=O.parent().find(".individuals input[type='text']:nth-child(1)").val()}if(O.parent().find(".individuals input:nth-child(2)").val()!=""){N=O.parent().find(".individuals input:nth-child(2)").val()}L=O.parent().find(".individuals .colorSelect").css("background-color");O.parent().find(".individuals .colorSelect").css("background-color","#ffffff");O.parent().find(".individuals input[type='text']").val("");O.parent().find(".individuals").fadeOut(200,function(){O.parent().find(".same input[type='text']:nth-child(1)").val(M);O.parent().find(".same .colorSelect").css("background-color",L);O.parent().find(".same").fadeIn(200).find("input[type=text]:nth-child(2)").val(N);O.parent().find(".same select").val(O.parent().find(".individuals select:first option:selected").val())})}else{if(O.parent().find(".same input[type='text']:nth-child(1)").val()!=""){M=O.parent().find(".same input[type='text]:nth-child(1)").val()}if(O.parent().find(".same input:nth-child(2)").val()!=""){N=O.parent().find(".same input:nth-child(2)").val()}L=O.parent().find(".same .colorSelect").css("background-color");O.parent().find(".same .colorSelect").css("background-color","#ffffff");O.parent().find(".same input").val("");O.parent().find(".same").fadeOut(200,function(){O.parent().find(".individuals select").val(O.parent().find(".same select:first option:selected").val());O.parent().find(".individuals").fadeIn(200).find("input[type='text']:nth-child(2)").val(N);O.parent().find(".individuals .borders input[type='text']:nth-child(1)").val(M);O.parent().find(".individuals .borders .colorSelect").css("background-color",L)})}});n(".colorTransparent").click(function(){var L=n(this).parent();if(n(this).is(":checked")){L.find("input[type='text']").attr("disabled",true).val("").addClass("opacity-7");L.find(".colorSelect").minicolors("value","");n(".clearColor, .minicolors",L).hide()}else{L.find("input[type=text]").removeAttr("disabled").removeClass("opacity-7");n(".minicolors",L).show()}});var o=n(".noBgImage");o.each(function(){if(n(this).is(":checked")){var L=n(this).parent();L.find("input[type='text']").attr("disabled",true).val("").addClass("opacity-7");n(".plupload-button",L).hide()}});o.click(function(){var L=n(this).parent();if(n(this).is(":checked")){L.find("input[type='text']").attr("disabled",true).val("").addClass("opacity-7");n(".plupload-button",L).hide()}else{L.find("input[type='text']").removeAttr("disabled").removeClass("opacity-7");n(".plupload-button",L).show()}});n(".background_position.positionX").change(function(){n(this).parent().find(".valueX").val(n("option:selected",this).val())});n(".background_position.positionY").change(function(){n(this).parent().find(".valueY").val(n("option:selected",this).val())});var D=n(".preset");D.on("click",".backgroundThumb",function(M){M.preventDefault();var L=n(this).attr("alt");n(this).parent().parent().find(".backgroundThumb.selected").removeClass("selected");n(this).addClass("selected");n(this).parent().parent().parent().find(".background_image input[type=text]").removeAttr("disabled").val(L);n(this).parent().parent().parent().find(".background_image input:checkbox").attr("checked",false)});n(".background_image .upload-file").on("blur",function(){if(n(this).val()==""){n(this).parent().parent().find(".backgroundThumb.selected").removeClass("selected")}});n(".background_image input:checkbox").on("click",function(){if(n(this).is(":checked")){n(this).parent().parent().find(".backgroundThumb.selected").removeClass("selected");n(this).parent().parent().find(".background_image input[type=text]").attr("disabled",true).val("")}else{n(this).parent().parent().find(".background_image input[type=text]").removeAttr("disabled")}});D.on("click","span",function(N){N.preventDefault();var M=n(this);var L=confirm(themify_lang.confirm_delete_image);if(L){n.post(ajaxurl,{action:"themify_delete_preset",file:M.attr("title"),nonce:themify_js_vars.nonce},function(){if(M.parent().parent().parent().find('.background_image input[type="text"]').val()==M.parent().find("img").attr("alt")){M.parent().parent().parent().find('.background_image input[type="text"]').val("")}M.parent().remove();n('.preset a[title="'+M.parent().attr("title")+'"]').remove();n(".upload-file").each(function(){if(n(this).val()==M.parent().find("img").attr("alt")){n(this).val("")}})})}});n(".select_position").change(function(){var L=n("option:selected",this).val();if(L=="absolute"||L=="fixed"){n(this).parent().parent().find(".position_display").show(200)}else{n(this).parent().parent().find(".position_display").hide(200)}});n(".fontFamily").change(function(){if(n("option:selected",this).val()=="custom"){n(this).parent().find(".value").show();n(this).parent().find(".value input").val("")}else{n(this).parent().find(".value").hide();n(this).parent().find(".value input").val(n("option:selected",this).val())}});n("input[name='setting-site_logo'], input[name='setting-footer_logo']").change(function(){if(n(this).val()=="image"){n(this).parent().parent().find(".image").fadeIn(200);n(this).parent().parent().find(".image").css("display","block")}else{n(this).parent().parent().find(".image").fadeOut()}});n(".feature-box-display").click(function(){if(n(this).val()=="images"){n(this).parent().parent().find(".feature_box_posts").fadeOut(200,function(){n(this).parent().parent().find(".feature_box_images").fadeIn(200)})}else{n(this).parent().parent().find(".feature_box_images").fadeOut(200,function(){n(this).parent().parent().find(".feature_box_posts").fadeIn(200)})}});n(".block-toggle").click(function(){var N=n(this),M=N.val(),L=N.data("hide");N.parent().parent().find(".feature_box_"+L).fadeOut(200,function(){N.parent().parent().find(".feature_box_"+M).fadeIn(200)})});n(".feature_box_enabled_check").change(function(){if("on"==n(this).val()){n(this).closest("fieldset").find(".feature_box_enabled_display").fadeIn(200)}else{n(this).closest("fieldset").find(".feature_box_enabled_display").fadeOut(200)}});var i=n(".box_enabled_check");i.click(function(){if(n(this).is(":checked")){n(this).parent().find(".box_enabled_display").fadeIn(200)}else{n(this).parent().find(".box_enabled_display").fadeOut(200)}});if(i.is(":checked")){i.parent().find(".box_enabled_display").show()}var p=n(".disable_img_php");p.click(function(){if(p.is(":checked")){n(".show_if_disabled_img_php").fadeIn(200);n(".show_if_enabled_img_php").fadeOut(200)}else{n(".show_if_disabled_img_php").fadeOut(200);n(".show_if_enabled_img_php").fadeIn(200)}});if(p.is(":checked")){n(".show_if_disabled_img_php").show()}else{if(p.not(":checked")){n(".show_if_enabled_img_php").show()}}n(".gallery_lightbox_type").change(function(){var L=n(".gallery_lightbox_type").prop("selectedIndex");if(L!=1){n(".show_if_photoswipe_enabled").fadeOut(200)}else{n(".show_if_photoswipe_enabled").fadeIn(200)}}).change();n("#skins .skin-preview").click(function(L){if(!n(L.target).parent().hasClass("view-demo")){L.preventDefault()}n("#skins .skin-preview").removeClass("selected");n(this).addClass("selected");n("input[name='skin']").val(n(this).find("img").attr("id"))});function K(M){var L=n("#themeversiontoreinstall").length==1?n("#themeversiontoreinstall").val():"latest",N=n(".prompt-box form").attr("action");N=N.replace(/(themeversion=.*$)/ig,"themeversion="+L);n(".prompt-box form").attr("action",N);n(".prompt-box .show-login").show();n(".prompt-box .show-error").hide();if("error"==M){if(n(".prompt-box .prompt-error").length==0){n(".prompt-box .prompt-msg").after('<p class="prompt-error">'+themify_lang.invalid_login+"</p>")}}else{if("unsuscribed"==M){if(n(".prompt-box .prompt-error").length==0){n(".prompt-box .prompt-msg").after('<p class="prompt-error">'+themify_lang.unsuscribed+"</p>")}}else{n(".prompt-box .prompt-error").remove()}}n(".prompt-box").removeClass("update-plugin");n(".overlay, .prompt-box").fadeIn(500)}function j(){n(".overlay, .prompt-box").fadeOut(500,function(){var L=n(".prompt-box"),M=L.find("iframe");if(M.length>0){M.remove()}L.removeClass("show-changelog")})}function A(){n(".alert").addClass("busy").fadeIn(800)}function F(L){if(L=="error"){L="error";l()}else{L="done"}n(".alert").removeClass("busy").addClass(L).delay(800).fadeOut(800,function(){n(this).removeClass(L)})}function l(L){n(".overlay, .prompt-box").delay(900).fadeIn(500);n(".prompt-box .show-error").show();n(".prompt-box .show-error p").remove();n(".prompt-box .error-msg").after('<p class="prompt-error">'+L+"</p>");n(".prompt-box .show-login").hide()}function J(M){var P=" 0123456789.+-";var O=true;var L;for(var N=0;N<M.length&&O==true;N++){L=M.charAt(N);if(P.indexOf(L)==-1){O=false}}return O}var G=n(".featimgcontrol");if(G.length>0&&n(".featimgdropdown").length>0){G.each(function(){n(this).append(n(this).next(".featimgdropdown"))})}var x=n("#social-link-type"),k=n("#social-links-wrapper"),f=n("#setting-link_field_ids"),r=n("#setting-link_field_hash");if(n('input[value="font-icon"]',x).prop("checked")){n(".image-icon",k).fadeOut();n(".font-icon",k).fadeIn()}else{n(".font-icon",k).fadeOut();n(".image-icon",k).fadeIn()}n("input",x).on("click",function(){var L=n(this);if(L.prop("checked")){n("."+L.data("hide"),k).fadeOut();n("."+L.val(),k).fadeIn()}});k.sortable({placeholder:"social-link-placeholder",handle:".social-drag",update:function(){var L={};n(".social-link-item").each(function(){L[n(this).attr("id")]=n(this).attr("id")});f.val(JSON.stringify(L))}});k.on("click",".remove-item",function(N){N.preventDefault();var M=JSON.parse(f.val()),L=n(this).data("removelink");n("#"+L).remove();delete M[L];f.val(JSON.stringify(M))});n(".add-social-link a").click(function(O){var M=JSON.parse(f.val()),N=parseInt(r.val()),L="image-icon";O.preventDefault();if(n("input[value=font-icon]",x).prop("checked")){L="font-icon"}n.post(ajaxurl,{action:"themify_add_link_field",nonce:themify_js_vars.nonce,fid:N,type:L},function(Q){n("#social-links-wrapper").append(Q);var R=n("#themify-link-"+r.val()+" .plupload-upload-uic"),P=n("#themify-link-"+r.val()+" .colorSelect");M["themify-link-"+r.val()]="themify-link-"+r.val();f.val(JSON.stringify(M));if(R.length>0){themify_create_pluploader(R)}if(P.length>0){P.minicolors({defaultValue:"#ffffff",letterCase:"lowercase",change:function(S){n(this).parent().next().val(S.replace("#",""))}})}r.val(N+1)})});n(".slug-rewrite").each(function(){n(this).on("keypress",function(N){var M=new RegExp("^[a-z0-9_-]+$"),L=String.fromCharCode(!N.charCode?N.which:N.charCode);if(!M.test(L)){N.preventDefault();return false}})});u.on("click",".refresh-webfonts",function(M){M.preventDefault();var L=confirm(themify_lang.confirm_refresh_webfonts);if(L){var N=u.serialize();n.post(ajaxurl,{action:"themify_save",data:N,nonce:themify_js_vars.nonce},function(){A();n.post(ajaxurl,{action:"themify_refresh_webfonts",nonce:themify_js_vars.nonce},function(){F();window.location.reload(true)})})}});u.on("change",".google_font_subset",function(){var L=n(this).val();if(L){L=L.join(",")}n(this).next().val(L)});var h={target:"",getDocHeight:function(){var L=document;return Math.max(Math.max(L.body.scrollHeight,L.documentElement.scrollHeight),Math.max(L.body.offsetHeight,L.documentElement.offsetHeight),Math.max(L.body.clientHeight,L.documentElement.clientHeight))},showLightbox:function(){var M=n(document).scrollTop()+80,L=n("#themify_lightbox_visibility");n("#themify_lightbox_overlay").show();n.ajax({type:"POST",url:ajaxurl,data:{action:"themify_get_visibility_options",selected:h.target.val(),nonce:themify_js_vars.nonce},success:function(N){n(".lightbox_container",L).append(N);L.show().css("top",h.getDocHeight()).animate({top:M},800);n("#visibility-tabs",L).tabs();n("#visibility-tabs .themify-visibility-inner-tabs",L).tabs()}})},closeLightbox:function(L){n("#themify_lightbox_visibility").animate({top:h.getDocHeight()},800,function(){n("#themify_lightbox_overlay").hide();n("#themify_lightbox_visibility").hide();if(typeof(L)==="function"){L()}h.clearOptions()})},clearOptions:function(){n("#themify_lightbox_visibility").find(".lightbox_container").empty()}};var s=n("#themify_lightbox_visibility");C.on("click",".themify-add-hook a",function(){var M=JSON.parse(n("#themify-hooks-field-ids").val()),L=1;if(M.length>0){L=Math.max.apply(null,M)+1}else{M=[]}n.ajax({url:ajaxurl,type:"post",data:{action:"themify_hooks_add_item",field_id:L,nonce:themify_js_vars.nonce},success:function(N){M.push(L);n("#themify-hooks-field-ids").val(JSON.stringify(M));n("#hook-content-list").append(N)}});return false});C.on("click",".themify-visibility-toggle",function(){h.target=n(this).next();h.showLightbox();return false});C.on("click","#themify_lightbox_visibility .close_lightbox, #themify_lightbox_overlay",function(){h.closeLightbox()});s.on("click",".visibility-save",function(){var L=n("form",s).serialize();h.target.val(L);h.closeLightbox();return false});s.on("click",".uncheck-all",function(){n("input:checkbox",s).removeAttr("checked");return false});C.on("click","#setting-hooks .remove-item",function(){var M=JSON.parse(n("#themify-hooks-field-ids").val());var L=n(this).closest(".social-link-item").fadeOut("fast",function(){var N=L.attr("data-id");for(var O in M){if(M.hasOwnProperty(O)){if(M[O]==N){M.splice(O,1)}}}n("#themify-hooks-field-ids").val(JSON.stringify(M))});return false});var B=n("#hook-content-list");B.sortable({placeholder:"social-link-placeholder",handle:".social-drag",update:function(){var L=[];B.find("li").each(function(){L.push(parseInt(n(this).attr("data-id")))});n("#themify-hooks-field-ids").val(JSON.stringify(L))}});var E=n(".see-hook-locations");if(E.length>0){E.magnificPopup({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler" style="max-width: 100% !important; height: 100%;"><div class="mfp-close"></div><iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe></div>'}})}n("#setting-editor-gfonts-list").change(function(){var L=n(this).val();n(this).next().val(JSON.stringify(L))}).change();n("body").on("click","#demo-import-notice .skin-preview",function(L){if(!n(L.target).parent().hasClass("view-demo")){L.preventDefault()}n("#demo-import-notice .skin-preview").removeClass("selected");n(this).addClass("selected");n('#skins .skin-preview[data-skin="'+n(this).data("skin")+'"]').trigger("click")});n("body").on("click",".skin-demo-import",function(O){O.preventDefault();var N=n(this),M=N.closest(".skin-demo-content");var L=function(){n.ajax({url:ajaxurl,data:{action:"themify_import_sample_content",skin:M.data("skin"),nonce:themify_js_vars.nonce},type:"POST",success:function(P){},beforeSend:function(){M.addClass("busy")},complete:function(){M.removeClass("busy");window.location.reload()}})};if(N.closest(".skin-preview").find(".required-addons").length){N.closest(".skin-preview").find(".required-addons").fadeIn().find(".skin-demo-import-proceed").off().on("click",L).end().find("a.external-link").on("click",function(){window.location=n(this).attr("href")})}else{L()}}).on("click",".skin-erase-demo",function(N){N.preventDefault();var M=n(this),L=M.closest(".skin-demo-content");n.ajax({url:ajaxurl,data:{action:"themify_erase_sample_content",skin:L.data("skin"),nonce:themify_js_vars.nonce},type:"POST",success:function(O){},beforeSend:function(){L.addClass("busy")},complete:function(){L.removeClass("busy")}})});var H=n(".import-sample-content"),v=n(".erase-sample-content");H.click(function(){var L=n(this);if(L.hasClass("disabled")){return false}if(!window.confirm(themify_lang.confirm_demo)){return false}H.addClass("disabled");n.ajax({url:ajaxurl,data:{action:"themify_import_sample_content",nonce:themify_js_vars.nonce},type:"POST",success:function(M){},beforeSend:function(){L.find("span").text(L.attr("data-importing")).end().find("i").removeClass().addClass("fa fa-cog fa-spin")},complete:function(){L.addClass("import-success").click(function(){n(this).parent().find(".dismiss-import-notice:first").click()}).find("span").text(L.attr("data-success")).end().find("i").removeClass().addClass("fa fa-check-circle");v.removeClass("disabled").find("i").removeClass().addClass("fa fa-times").end().find("span").text(v.attr("data-default"));window.location.reload()}});return false});v.click(function(){var L=n(this);if(L.hasClass("disabled")){return false}v.addClass("disabled");n.ajax({url:ajaxurl,data:{action:"themify_erase_sample_content",nonce:themify_js_vars.nonce},type:"POST",success:function(M){},beforeSend:function(){L.find("span").text(L.attr("data-erasing")).end().find("i").removeClass().addClass("fa fa-cog fa-spin")},complete:function(){L.find("span").text(L.attr("data-success")).end().find("i").removeClass().addClass("fa fa-check-circle");H.removeClass("disabled").removeClass("import-success").find("i").removeClass().addClass("fa fa-arrow-down").end().find("span").text(H.attr("data-default"))}});return false});n(".themify-modal .close").click(function(){n(this).closest(".themify-modal").fadeOut();return false});n(".notice-dismiss").on("click",function(){var M=n(this),L=M.data("notice");n.post(ajaxurl,{action:"themify_notice_dismiss",notice:L,nonce:themify_js_vars.nonce},function(){n(".js-"+L+"-notice").fadeOut(300,function(){n(this).remove()})});return false});u.find("select").not("[multiple]").wrap('<div class="selectwrapper"></div>');n(".selectwrapper").click(function(){n(this).toggleClass("clicked")});function I(L){var P=window.location.search.substring(1),O=P.split("&"),M=false;for(var N=0;N<O.length;N++){var Q=O[N].split("=");if(Q[0]==L){M=Q[1];break}}return M}d(n("#themify, .toplevel_page_themify-builder #wpbody-content"));n(".js-clear-builder-cache").on("click",function(L){L.preventDefault();var M=n(this);if(M.hasClass("disabled")){return}if(!window.confirm(M.data("confim"))){return}M.addClass("disabled");n.ajax({url:ajaxurl,data:{action:M.data("action"),nonce:themify_js_vars.nonce},type:"POST",beforeSend:function(){M.find("span").text(M.data("clearing-text")).end().find("i").removeClass().addClass("fa fa-cog fa-spin")},success:function(){M.find("span").text(M.data("done-text")).end().find("i").removeClass().addClass("fa fa-check-square");setTimeout(function(){M.find("span").text(M.data("default-text")).end().find("i").removeClass().addClass(M.data("default-icon")).end().removeClass("disabled")},5000)}})});n(".input-range .range-slider").each(function(){var O=n(this),P=O.next(),N=P.val(),L=N.split("-"),M=P.data("range")?true:false;O.slider({range:M,min:P.data("min"),max:P.data("max"),values:L,slide:function(Q,R){if(R.values[0]==R.values[1]||!M){P.val(R.values[0])}else{P.val(R.values[0]+"-"+R.values[1])}}})});if(typeof wp!=="undefined"&&typeof wp.media!=="undefined"&&typeof wp.media.featuredImage!=="undefined"){n("body").on("themify_metabox_lib_selected",function(O,L,P,M){var N=L.data("submit");if(N.featured){wp.media.featuredImage.set(P.id)}}).on("themify_plupload_selected",function(N,M,L){if(M.data("featured")){wp.media.featuredImage.set(L.id)}}).on("themify_wp_media_featured_image_set",function(M,O,L){var N=n("#post_image").closest(".themify_field_row");if(O==-1){N.find(".themify_featimg_remove a").click()}else{themifyMediaLib.setPreviewIcon(N,n(L).find("#set-post-thumbnail img").attr("src"))}});n("#post_image").closest(".themify_field_row").find(".themify_featimg_remove a").click(function(){n("#remove-post-thumbnail").click()});wp.media.featuredImage.set=function(M){var L=wp.media.view.settings;L.post.featuredImageId=M;wp.media.post("get-post-thumbnail-html",{post_id:L.post.id,thumbnail_id:L.post.featuredImageId,_wpnonce:L.post.nonce}).done(function(N){if(N=="0"){window.alert(window.setPostThumbnailL10n.error);return}n(".inside","#postimagediv").html(N);n("body").trigger("themify_wp_media_featured_image_set",[M,N])})}}});function c(f,g){document.cookie=f+"="+g+"; path=/"}function b(g){g=g+"=";var f=document.cookie.split(";");for(var h=0;h<f.length;h++){var j=f[h];while(" "==j.charAt(0)){j=j.substring(1,j.length)}if(0==j.indexOf(g)){return j.substring(g.length,j.length)}}return null}function d(f){var g=f.find("[data-show-if-element]").map(function(){return e(this).data("show-if-element")}).get().filter(function(k,j,h){return j==h.indexOf(k)});e.each(g,function(j,h){var k=h;a(k);e(document).on("change",k,function(i){a(k)})})}function a(f){e('[data-show-if-element="'+f+'"]').each(function(){var j=e(this),g=j.data("show-if-value"),h=e(j.data("show-if-element").toString());if(h.is(":checkbox")){var i=h.is(":checked")?"true":"false"}else{var i=h.val().trim()}g=e.isArray(g)?g:[g.toString()];if("undefined"!==typeof(i)&&e.inArray(i,g)!==-1){j.slideDown({duration:550})}else{j.slideUp({duration:550})}})}e(document).ready(function(){var f=e("#themify .preview-icon");if(f.length){f.each(function(){var g=e(this),h=g.attr("title");g.removeAttr("title");g.append('<span class="tm-option-title-fw">'+h+"</span>")})}})})(jQuery);