(function(d,g,h,c){d.fn.themifyDropdown=function(j){var k=d.extend({},j);return this.each(function(){if(d(this).hasClass("with-sub-arrow")){return}d(this).addClass("with-sub-arrow").find("li.menu-item-has-children > a:not(.themify_lightbox), li.page_item_has_children > a:not(.themify_lightbox)").append('<span class="sub-arrow closed" />')})};var f,e;d("body").on("touchstart",".sub-arrow, .with-sub-arrow a",function(j){j.stopPropagation();f=b(j,"X");e=b(j,"Y")}).on("click touchend",".sub-arrow",function(l){l.stopPropagation();if(Math.abs(b(l,"X")-f)<20&&Math.abs(b(l,"Y")-e)<20){var k=d(this).closest("li");var j=d(this).parents(".dropdown-open");d(this).closest(".with-sub-arrow").find("li.dropdown-open").not(j).each(function(){i(d(this))});if(k.hasClass("dropdown-open")){i(k)}else{a(k)}}return false}).on("click touchend",".with-sub-arrow a",function(j){if(Math.abs(b(j,"X")-f)<20&&Math.abs(b(j,"Y")-e)<20){if(d(this).attr("href")=="#"){j.stopPropagation();d(this).find("> .sub-arrow").click();return false}}});function b(j,k){return/touch/.test(j.type)?(j.originalEvent||j).changedTouches[0]["page"+k]:j["page"+k]}function a(j){j.find(".sub-menu, .children").first().show().css("visibility","visible");j.addClass("dropdown-open");j.find("> a .sub-arrow").removeClass("closed").addClass("open");j.trigger("dropdown_open")}function i(j){j.find(".sub-menu, .children").first().hide().css("visibility","hidden");j.removeClass("dropdown-open");j.find("> a .sub-arrow").removeClass("open").addClass("closed");j.trigger("dropdown_close")}})(jQuery,window,document);