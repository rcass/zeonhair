var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(c,g,a){c instanceof String&&(c=String(c));for(var e=c.length,b=0;b<e;b++){var d=c[b];if(g.call(a,d,b,c))return{i:b,v:d}}return{i:-1,v:void 0}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(c,g,a){c!=Array.prototype&&c!=Object.prototype&&(c[g]=a.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(c,g,a,e){if(g){a=$jscomp.global;c=c.split(".");for(e=0;e<c.length-1;e++){var b=c[e];b in a||(a[b]={});a=a[b]}c=c[c.length-1];e=a[c];g=g(e);g!=e&&null!=g&&$jscomp.defineProperty(a,c,{configurable:!0,writable:!0,value:g})}};$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(c,a){return $jscomp.findInternal(this,c,a).v}},"es6-impl","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(c){var g=0;return $jscomp.iteratorPrototype(function(){return g<c.length?{done:!1,value:c[g++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};$jscomp.iteratorFromArray=function(c,g){$jscomp.initSymbolIterator();c instanceof String&&(c+="");var a=0,e={next:function(){if(a<c.length){var b=a++;return{value:g(b,c[b]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e};
$jscomp.polyfill("Array.prototype.keys",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(c){return c})}},"es6-impl","es3");var ThemifyLiveStyling;
(function(c){var g=themifybuilderapp;g.mode="visual";g.Frontend={slidePanelOpen:!0,hideModulesControl:function(){c(".themify_builder_module_front_overlay,.themify_builder_dropdown_front").hide()},hideColumnsBorder:function(){},showColumnsBorder:function(){},responsiveFrame:{$el:null,contentWindow:null,init:function(){this.$el=c("#themify_builder_site_canvas_iframe").contents();this.contentWindow=document.getElementById("themify_builder_site_canvas_iframe").contentWindow;var a=this.$el,e="true"==themifyBuilder.isTouch?
"touchend":"mouseenter mouseleave";c("body").addClass("builder-active-breakpoint--"+g.activeBreakPoint);a.on(e,".themify_builder_module_front",function(a){g.Views.Modules.visual.prototype.modHover(a)}).on("click",".themify_builder_option_column,.js--themify_builder_module_styling,.themify_builder_style_row,.themify_builder_style_subrow",function(a){a.preventDefault();a=c(this).closest("[data-cid]").data("cid");a=c('[data-cid="'+a+'"]');c(this).hasClass("js--themify_builder_module_styling")?a.children(".module_menu_front").find(".js--themify_builder_module_styling").trigger("click"):
c(this).hasClass("themify_builder_style_row")?a.children(".themify_builder_row_top").find(".themify_builder_style_row").trigger("click"):c(this).hasClass("themify_builder_style_subrow")?a.children(".themify_builder_sub_row_top").find(".themify_builder_style_subrow").trigger("click"):c(this).hasClass("themify_builder_option_column")&&a.children(".themify_builder_column_action").find(".themify_builder_option_column").trigger("click")}).on("dblclick",".themify_builder .active_module",function(a){a.preventDefault();
a=c(this).data("cid");c('[data-cid="'+a+'"]').children(".module_menu_front").find(".js--themify_builder_module_styling").trigger("click")}).on("click",".themify_builder_grid_list_wrapper .grid_tabs li a",g.Views.Rows["default"].prototype._switchGridTabs).on("click",".themify_builder_grid_list li a",g.Views.Rows["default"].prototype._gridMenuClicked).on("click",".themify_builder_column_direction li a",g.Views.Rows["default"].prototype._columnDirectionMenuClicked);c("body").on("builder_toggle_frontend",
this.toggleBuilder);this.doIframeScrolling()},syncTimeout:null,doSync:function(){"desktop"!==g.activeBreakPoint&&(clearTimeout(this.syncTimeout),this.syncTimeout=setTimeout(function(){g.Frontend.responsiveFrame.sync()},300))},sync:function(a){if(a=a||!1){var e=c(".themify_builder_content").not(".not_editable_builder");g.Frontend.responsiveFrame.$el.find(".themify_builder_content").not(".not_editable_builder").each(function(a){e.get(a).innerHTML=this.innerHTML;var d=e.eq(a);c(this).find(".themify_builder_row,.themify_builder_col,.themify_builder_module_front,.themify_builder_sub_row").each(function(){var a=
c(this).data("cid"),b="module",e=g.Models.Registry.lookup(a);e&&(a=d.find('[data-cid="'+a+'"]'),c(this).hasClass("themify_builder_row")?(b="row",g.Utils.columnDrag(a,!0)):c(this).hasClass("themify_builder_col")?b="column":c(this).hasClass("themify_builder_sub_row")&&(b="subrow",g.Utils.columnDrag(a,!0)),e.trigger("custom:"+b+":update",a))})});g.vent.trigger("dom:builder:change")}else c(".themify_builder_content").not(".not_editable_builder").each(function(a){var d=c(this.outerHTML);d.find(".themify_builder_slider").each(function(){c(this).data("themify_slider_ready",
!1);0<c(this).closest(".caroufredsel_wrapper").length&&c(this).unwrap();0<c(this).closest(".carousel-wrap").length&&c(this).unwrap();c(this).attr("style","")});g.Frontend.responsiveFrame.$el.find(".themify_builder_content").not(".not_editable_builder").get(a).innerHTML=d.html()});this.syncStyleSheet();g.Frontend.responsiveFrame.contentWindow.ThemifyBuilderModuleJs.isResponsiveFrame=!a;a?ThemifyBuilderModuleJs.bindEvents():g.Frontend.responsiveFrame.contentWindow.ThemifyBuilderModuleJs.bindEvents()},
toggleBuilder:function(a,e){e?(c(".themify_builder_module_panel").removeClass("themify_builder_panel_state_inline"),c(".themify_builder_responsive_switcher_item .themify_builder_popup_menu_wrapper").find(".breakpoint-desktop").parent().addClass("selected").siblings().removeClass("selected"),c(".themify_builder_front_panel").removeClass("builder-disable-module-draggable"),c(".themify_builder_module_panel .themify_builder_module").draggable("enable"),g.Frontend.responsiveFrame.doIframeScrolling()):
(c(".themify_builder_site_canvas, .themify_builder_workspace_container").removeAttr("style"),c(window).off("scroll.themifybuilderresponsive"))},doIframeScrolling:function(){var a=c(window);a.on("scroll.themifybuilderresponsive",function(){g.Frontend.responsiveFrame.contentWindow.scrollTo(0,a.scrollTop())})},syncStyleSheet:function(){var a=g.styleSheet.getCSSText(),e=document.createElement("style");e.type="text/css";e.id=g.styleSheet.name;try{e.innerHTML=a}catch(b){e.styleSheet.cssText=a}this.contentWindow.document.getElementById(e.id)&&
this.contentWindow.document.getElementById(e.id).remove();this.contentWindow.document.getElementsByTagName("head")[0].appendChild(e)}}};g.styleSheet={name:"themify-builder-component-customize",head:document.getElementsByTagName("head")[0],styleRegistry:{},destroy:function(){this.styleRegistry={};document.getElementById(this.name)&&document.getElementById(this.name).remove()},getSheetInstance:function(){return document.getElementById(this.name)?document.getElementById(this.name).sheet:null},setStyles:function(a,
e,b){b=b||g.activeBreakPoint;var d="";"desktop"!==b&&(d="screen and (max-width: "+g.Utils.getBPWidth(b)+"px)");if("undefined"===typeof a)return!0;var f=this.getRules(a,d);if(_.isUndefined(f)){f="";for(c in e)e[c]&&"#"!==e[c]&&'url("")'!==e[c]&&(f+=c+":"+e[c]+";");e=this.getMediaRules();a=a+"{"+f+"}";f=Math.max(e.cssRules.length-3,0);""!==d&&(f=this.getMediaRules(d),_.isUndefined(f)?(a="@media "+d+" { "+a+" }",(f=e.cssRules.length)&&e.cssRules[e.cssRules.length-1].media&&("tablet_landscape"===b&&(d=
this.getMediaRules("screen and (max-width: "+g.Utils.getBPWidth("tablet")+"px)",!0),_.isUndefined(d)?(d=this.getMediaRules("screen and (max-width: "+g.Utils.getBPWidth("mobile")+"px)",!0),_.isUndefined(d)||(f=d)):f=d),"tablet"===b&&(b=this.getMediaRules("screen and (max-width: "+g.Utils.getBPWidth("tablet_landscape")+"px)",!0),_.isUndefined(b)?(d=this.getMediaRules("screen and (max-width: "+g.Utils.getBPWidth("mobile")+"px)",!0),_.isUndefined(d)||(f=d)):f=b+1))):(e=f,f=f.cssRules.length));e.insertRule(a,
f)}else for(var c in e)f.style[c]=e[c]&&"#"!==e[c]&&'url("")'!==e[c]?e[c]:""},getRules:function(a,e){e=e||"";0===c("#"+this.name).length&&c("head").append('<style id="'+this.name+'"></style>');var b=c("#"+this.name).get(0).sheet,b=b.cssRules?b.cssRules:b.rules;if(""===e)for(var d=0;d<b.length;d++){if(!_.isUndefined(b[d].selectorText)&&b[d].selectorText.toLowerCase()===a){var f=b[d];break}}else for(var h=b.length,d=0;d<h;d++)if(b[d].media&&-1<b[d].cssText.indexOf(e)){b=b[d].cssRules?b[d].cssRules:
b[d].rules;d=b.length;for(h=0;h<d;h++)if(!_.isUndefined(b[h].selectorText)&&b[h].selectorText.toLowerCase()===a){f=b[h];break}break}return f},getMediaRules:function(a,e){a=a||"";var b=c("#"+this.name).get(0).sheet;if(""===a)return b;var b=b.cssRules?b.cssRules:b.rules;if(""!==a){for(var d=b.length,f=0;f<d;f++)if(b[f].media&&-1<b[f].cssText.indexOf(a)){var h=e?f:b[f];break}return h}},tempRules:null,rememberRules:function(){var a=this.getCSSText();""!==a&&(this.tempRules=a)},revertRules:function(){_.isNull(this.tempRules)||
this.replaceCSSText(this.tempRules);this.tempRules=null},getCSSText:function(){var a="",e=this.getSheetInstance();if(!_.isNull(e)&&e.cssRules)for(var e=e.cssRules,b=0,d=e.length;b<d;++b)a+=e[b].cssText;else _.isNull(e)||(a+=e.cssText);return a},replaceCSSText:function(a){document.getElementById(this.name)&&(document.getElementById(this.name).innerHTML=a)}};g.Mixins.Frontend={render_visual:function(){var a=[],e=this.$el.data("cid"),b=g.Models.Registry.lookup(e);b&&a.push({jobID:e,data:b.toJSON()});
this.$el.find("[data-cid]").each(function(){e=c(this).data("cid");(b=g.Models.Registry.lookup(e))&&a.push({jobID:e,data:b.toJSON()})});return g.render_element(a)},change_callback:function(){console.log("change_callback");var a=this,e=this.$el.closest("[data-postid]");a.$el.addClass("themify-builder-component-preview-loading");this.render_visual().done(function(){a.$el.removeClass("themify-builder-component-preview-loading");g.Utils.loadContentJs();c("body").trigger("builder_load_module_partial",a.$el);
g.vent.trigger("dom:builder:change");_.isEmpty(ThemifyBuilderCommon.undoManager.getStartData())?g.vent.trigger("dom:observer:end",e):g.vent.trigger("dom:observer:end",e,{cid:a.model.cid,value:a.model.toJSON()})})},render_stylesheet:function(a,e){var b=".themify_builder .tb_element_cid_"+a,d=" ";"module"!==g.Models.Registry.lookup(a).get("elType")&&(d="");_.each(e,function(a,e){_.each(a,function(a,f){g.styleSheet.setStyles(b+d+f.trim(),a,e)})})}};_.extend(g.Views.BaseElement.prototype,g.Mixins.Frontend);
g.Views.register_row("visual",{template:wp.template("builder_visual_row_item"),initialize:function(){this.listenTo(this.model,"create:element",this.createEl);this.listenTo(this.model,"custom:change",this.change_callback);this.listenTo(this,"component:duplicate",this.change_callback);this.listenTo(this.model,"custom:restorehtml",this.restoreHtml)},createEl:function(a,e){var b=c(a).filter(".themify_builder_row");b.children(".builder_row_cover").insertAfter(this.$el.children(".themify_builder_row_top"));
this.$el.attr("class",b.attr("class")).addClass(_.result(this,"attributes")["class"]);0<this.$el.children(".row-slider").length?this.$el.children(".row-slider").replaceWith(b.children(".row-slider")):this.$el.prepend(b.children(".row-slider"));_.isObject(e)&&0<_.keys(e).length&&this.render_stylesheet(this.model.cid,e);c(document).trigger("tb:row:create",[this.$el,b])},restoreHtml:function(a){var e=c(".current_selected_row");if(0<e.length){var b=e.children(".row_inner_wrapper").children(".row_inner").children(".themify_builder_row_content").detach();
a=c(a);a.find(".themify_builder_row_content").remove();e[0].outerHTML=a[0].outerHTML;this.setElement(c(".current_selected_row"));c(".current_selected_row").children(".row_inner_wrapper").children(".row_inner").append(b)}}});g.Views.register_subrow("visual",{template:wp.template("builder_visual_sub_row_item"),initialize:function(){this.listenTo(this.model,"create:element",this.createEl);this.listenTo(this.model,"custom:change",this.change_callback);this.listenTo(this,"component:duplicate",this.change_callback);
this.listenTo(this.model,"custom:restorehtml",this.restoreHtml)},createEl:function(a,e){var b=c(a).filter(".themify_builder_sub_row");b.children(".builder_row_cover").insertAfter(this.$el.children(".themify_builder_sub_row_top"));this.$el.attr("class",b.attr("class")).addClass(_.result(this,"attributes")["class"]);0<this.$el.children(".sub_row-slider").length?this.$el.children(".sub_row-slider").replaceWith(b.children(".sub_row-slider")):this.$el.prepend(b.children(".sub_row-slider"));_.isObject(e)&&
_.keys(e).length&&this.render_stylesheet(this.model.cid,e)},restoreHtml:function(a){var e=c(".current_selected_sub_row");if(0<e.length){var b=e.children(".sub_row_inner_wrapper").children(".themify_builder_sub_row_content").detach();a=c(a);a.children(".sub_row_inner_wrapper").children(".themify_builder_sub_row_content").remove();e[0].outerHTML=a[0].outerHTML;this.setElement(c(".current_selected_sub_row"));c(".current_selected_sub_row").children(".sub_row_inner_wrapper").append(b)}}});g.Views.register_column("visual",
{template:wp.template("builder_visual_column_item"),attributes:function(){return{"class":"themify_builder_col "+("column"===this.model.get("component_name")?"module_column module_column_"+this.model.cid:"sub_column sub_column_"+this.model.cid)+" "+this.model.get("grid_class")+" tb_element_cid_"+this.model.cid,style:"width:"+this.model.get("grid_width")+"%","data-cid":this.model.cid}},initialize:function(){this.listenTo(this.model,"create:element",this.createEl);this.listenTo(this.model,"custom:change",
this.change_callback);this.listenTo(this.model,"custom:restorehtml",this.restoreHtml)},createEl:function(a,e){var b=c(a);b.find("style").remove();this.$el.children(".tb-column-inner").prepend(b.find(".tb-column-inner").html().replace(/&nbsp;/gi,""));this.$el.addClass(b.attr("class").replace("empty-column",""));0<this.$el.children(".builder_row_cover").length?this.$el.children(".builder_row_cover").replaceWith(b.children(".builder_row_cover")):this.$el.prepend(b.children(".builder_row_cover"));0<this.$el.children(".col-slider").length?
this.$el.children(".col-slider").replaceWith(b.children(".col-slider")):this.$el.prepend(b.children(".col-slider"));_.isObject(e)&&_.keys(e).length&&this.render_stylesheet(this.model.cid,e)},restoreHtml:function(a){var e=c(".current_selected_column");if(0<e.length){var b=e.children(".tb-column-inner").children(".themify_module_holder").detach();a=c(a);a.find(".themify_module_holder").remove();e[0].outerHTML=a[0].outerHTML;this.setElement(c(".current_selected_column"));c(".current_selected_column").children(".tb-column-inner").append(b)}}});
g.Views.register_module("visual",{draggedNotTapped:!1,template:wp.template("builder_visual_module_item"),templateVisual:function(a){return wp.template("builder-"+this.model.get("mod_name")+"-content")(a)},attributes:function(){return{"class":"themify_builder_module_front module-"+this.model.get("mod_name")+" active_module clearfix tb_element_cid_"+this.model.cid,"data-mod-name":this.model.get("mod_name"),"data-cid":this.model.cid}},events:{hover:"modHover"},initialize:function(){this.listenTo(this.model,
"create:element",this.createEl);this.listenTo(this.model,"custom:change",this.change_callback);this.listenTo(this,"component:duplicate",this.change_callback);this.listenTo(this.model,"custom:restoredata",this.restoreData);this.listenTo(this.model,"custom:restorehtml",this.restoreHtml);this.listenTo(this.model,"custom:preview:live",this.previewLive);this.listenTo(this.model,"custom:preview:sc",_.debounce(this.previewShortcode,400));this.listenTo(this.model,"custom:preview:live",_.debounce(this.previewLiveCallback,
500));this.listenTo(this.model,"custom:preview:reload",this.previewReload);this.listenTo(this,"custom:preview:init",this.previewInit)},createEl:function(a,e){!1===a&&(a=themifyBuilder.i18n.excludedModule);0<this.$(".module").length?this.$(".module").replaceWith(a):this.el.insertAdjacentHTML("beforeend",a);this.$el.children("style").remove();_.isObject(e)&&_.keys(e).length&&this.render_stylesheet(this.model.cid,e)},previewLive:function(a){this._jqueryXhr&&4!==this._jqueryXhr&&this._jqueryXhr.abort();
this._shortcodeXhr&&4!==this._shortcodeXhr&&this._shortcodeXhr.abort();a=this.templateVisual(a);var e=g.Utils.shortcodeToHTML(a);_.isEmpty(e.tags)||(a=e.content);0<this.$(".module").length?this.$(".module").replaceWith(a):this.el.insertAdjacentHTML("beforeend",a);this.$el.children("style").remove();g.liveStylingInstance.$liveStyledElmt=this.$(".module");_.isEmpty(e.tags)||g.activeModel.trigger("custom:preview:sc",e.tags)},previewLiveCallback:function(){console.log("previewLiveCallback");g.Utils.loadContentJs();
c("body").trigger("builder_load_module_partial",this.$el)},previewInit:function(){g.activeModel.trigger("custom:preview:reload")},previewReload:function(){var a=this;this._jqueryXhr&&4!==this._jqueryXhr&&this._jqueryXhr.abort();this._shortcodeXhr&&4!==this._shortcodeXhr&&this._shortcodeXhr.abort();this._jqueryXhr=c.ajax({type:"POST",url:themifyBuilder.ajaxurl,dataType:"json",data:{action:"tfb_load_module_partial",tfb_post_id:this.$el.closest(".themify_builder_content").data("postid"),tfb_cid:this.model.cid,
tfb_module_slug:this.model.get("mod_name"),tfb_module_data:JSON.stringify(this.model.getPreviewSettings()),tfb_load_nonce:themifyBuilder.tfb_load_nonce},beforeSend:function(e){a.$el.addClass("themify-builder-component-preview-loading")},success:function(e){a.createEl(e.html);g.liveStylingInstance.$liveStyledElmt=a.$(".module");"undefined"!==typeof WebFont&&0<e.gfonts.length&&WebFont.load({google:{families:e.gfonts}});g.Utils.loadContentJs(a.$el);g.Frontend.responsiveFrame.doSync();a.$el.removeClass("themify-builder-component-preview-loading");
c("body").trigger("builder_load_module_partial",a.$el)},error:function(){a.$el.removeClass("themify-builder-component-preview-loading")}});return this},previewShortcode:function(a){var e=this;this._shortcodeXhr&&4!==this._shortcodeXhr&&this._shortcodeXhr.abort();this._shortcodeXhr=c.ajax({type:"POST",url:themifyBuilder.ajaxurl,dataType:"json",data:{action:"tfb_render_element_shortcode",shortcode_data:JSON.stringify(a),tfb_load_nonce:themifyBuilder.tfb_load_nonce},success:function(a){a.success&&_.each(a.data,
function(a){c('[data-rendered-sc="'+a.key+'"]').replaceWith(a.rendered_html);g.Utils.loadContentJs(e.$el);g.Frontend.responsiveFrame.doSync();c("body").trigger("builder_load_module_partial",e.$el)})}})},modHover:function(a){var e=c(a.currentTarget);if("touchend"===a.type){if(!this.draggedNotTapped){this.draggedNotTapped=!1;var b=e.closest(".themify_builder_row");a=e.closest(".themify_builder_col");var d=e.closest(".themify_builder_module"),b="row_"+b.index();0<a.length&&(b+="_col_"+a.index());0<d.length&&
(b+="_mod_"+d.index());this.menuTouched[b]?(e.find(".themify_builder_dropdown_front").stop(!1,!0).css("z-index","").hide(),e.find(".themify_builder_dropdown_front ul").stop(!1,!0).hide(),e.find(".themify_builder_dropdown").stop(!1,!0).hide(),this.menuTouched=[]):(a=c(".themify_builder_content"),a.find(".themify_builder_dropdown_front").stop(!1,!0).css("z-index","").hide(),a.find(".themify_builder_dropdown_front ul").stop(!1,!0).hide(),a.find(".themify_builder_dropdown").stop(!1,!0).hide(),e.find(".themify_builder_dropdown_front").stop(!1,
!0).css("z-index","999").show(),e.find(".themify_builder_dropdown_front ul").stop(!1,!0).show(),this.menuTouched=[],this.menuTouched[b]=!0)}}else"mouseenter"===a.type?(e.find(".themify_builder_module_front_overlay").stop(!1,!0).show(),e.find(".themify_builder_dropdown_front").stop(!1,!0).show()):"mouseleave"===a.type&&(e.find(".themify_builder_module_front_overlay").stop(!1,!0).hide(),e.find(".themify_builder_dropdown_front").stop(!1,!0).hide())},tempData:null,restoreData:function(){this.tempData=
this.model.get("mod_settings")},restoreHtml:function(a){var e=c(".current_selected_module");e.length&&(e[0].outerHTML=a,this.setElement(c(".current_selected_module")),this.model.set({mod_settings:this.tempData},{silent:!0}),this.tempData=null,this.$el.removeClass("themify-builder-component-preview-loading"))}});g.bootstrap=function(a){var e=[];_.each(g.Models.Registry.items,function(a,d){var f=a.toJSON();"column"===f.elType&&_.has(f,"modules")&&delete f.modules;"row"===f.elType&&_.has(f,"cols")&&
delete f.cols;"module"===f.elType&&_.has(f,"cols")&&delete f.cols;e.push({jobID:d,data:f})});this.batch_rendering(e,0,180,a)};g.batch_rendering=function(a,e,b,d){if(e>=a.length)c.isFunction(d)&&d.call(this);else{var f=a.slice(e,e+b);this.render_element(f).done(function(){g.batch_rendering(a,e+=b,b,d)})}};g.render_element=function(a){return c.ajax({type:"POST",url:themifyBuilder.ajaxurl,dataType:"json",data:{action:"tfb_render_element",batch:JSON.stringify(a),tfb_load_nonce:themifyBuilder.tfb_load_nonce},
success:function(a){_.each(a,function(a,d){g.Models.Registry.lookup(d).trigger("create:element",a.markup,a.styles)})}})};g.toggleFrontEdit=function(a){var e=this,b=0;c("#themify_builder_lightbox_parent").is(":visible")&&c(".builder_cancel_lightbox").trigger("click");var d=window.location.pathname+window.location.search;window.history&&window.history.replaceState?window.history.replaceState("","",d):window.location.href=window.location.href.replace(/#.*$/,"#");var f=c(".themify_builder_content").not(".not_editable_builder").map(function(){return c(this).data("postid")||
null}).get();c("body").hasClass("themify_builder_active")?(c("#tb_toolbar").slideUp("slow",function(){c("#wpadminbar").slideDown("slow")}),b=0):(b=1,c("#wpadminbar").length?c("#wpadminbar").slideUp("slow",function(){c("#tb_toolbar").slideDown("slow")}):c("#tb_toolbar").slideDown("slow"));0===b&&e.editing?confirm(themifyBuilder.i18n.confirm_on_turn_off)?g.Utils.saveBuilder(!0).done(function(){e.toggleFrontEditAjax(b,f)}):e.toggleFrontEditAjax(b,f):(e.toggleFrontEditAjax(b,f),e.editing=!1);"undefined"!==
typeof a&&a.preventDefault()};g.toggleFrontEditAjax=function(a,e){c.ajax({type:"POST",url:themifyBuilder.ajaxurl,dataType:"json",data:{action:"tfb_toggle_frontend",tfb_post_ids:e,tfb_load_nonce:themifyBuilder.tfb_load_nonce,state:a},beforeSend:function(a){ThemifyBuilderCommon.showLoader("show")},success:function(b){a||(ThemifyBuilderCommon.undoManager.instance.clear(),g.Models.Registry.destroy(),g.Instances.Builder={},g.styleSheet.destroy());a?(c("body").addClass("themify_builder_active themify_builder_front"),
b.length?g.render(b):ThemifyBuilderCommon.showLoader("spinhide"),g.Utils.checkUnload()):(c("body").removeClass("themify_builder_active themify_builder_front"),0<b.length&&c.each(b,function(a,f){c("#themify_builder_content-"+b[a].builder_id).empty().get(0).innerHTML=c(b[a].markup).unwrap().get(0).innerHTML}),c(".js--themify_builder_breakpoint_switcher.breakpoint-desktop").hasClass("tb_selected")||c(".js--themify_builder_breakpoint_switcher.breakpoint-desktop").trigger("click"),window.onbeforeunload=
null,ThemifyBuilderModuleJs.init(),ThemifyBuilderCommon.showLoader("spinhide"),c("body").trigger("builder_toggle_frontend",a));g.Utils.columnDrag(null,!1);setTimeout(function(){wp.mediaWidgets.init();wp.textWidgets.init();c("body").trigger("builder_finished_loading")},2E3)}})};g.render=function(a){0<a.length&&(c.each(a,function(e,b){var d="#themify_builder_content-"+a[e].builder_id,f=c(d),h=new g.Collections.Rows(a[e].builder_data);f.wrapInner('<div class="themify_builder_content_remove_wrapper" />');
g.Instances.Builder[e]=new g.Views.Builder({el:d,collection:h,type:"visual"});g.Instances.Builder[e].render();f.find(".themify_builder_content_remove_wrapper").nextAll().addClass("hide-builder-content")}),ThemifyBuilderCommon.showLoader("show"),g.bootstrap(function(){c.each(a,function(e,b){c("#themify_builder_content-"+a[e].builder_id).find(".themify_builder_content_remove_wrapper").remove().end().find(".hide-builder-content").removeClass("hide-builder-content")});ThemifyBuilderCommon.showLoader("spinhide");
c("body").trigger("builder_toggle_frontend",!0);g.Utils.loadContentJs();g.vent.trigger("dom:builder:change")}));c("#themify_builder_switch_backend").on("click",this.switchBackEnd)};g.switchBackEnd=function(a){a.preventDefault();var e=c(this).attr("href");ThemifyBuilderCommon.undoManager.instance.hasUndo()&&e?g.Utils.saveBuilder(!0,function(){ThemifyBuilderCommon.undoManager.instance.clear();window.location=e}):window.location=e;sessionStorage.setItem("focusBackendEditor",!0)};g.initFrontend=function(){g.Views.bindEvents();
g.Forms.bindEvents();this.toolbar=new g.Views.Toolbar({el:"#tb_toolbar"});this.liveStylingInstance=new ThemifyLiveStyling;tbLocalScript.isAnimationActive&&Themify.LoadCss(tbLocalScript.builder_url+"/css/animate.min.css")};c("body").on("builderscriptsloaded.themify",function(a){g.initFrontend();g.toggleFrontEdit(a);c(".toggle_tf_builder a:first, a.js-turn-on-builder").on("click",g.toggleFrontEdit.bind(g))}).on("builderiframeloaded.themify",function(a){g.Frontend.responsiveFrame.init()});ThemifyLiveStyling=
function(a,e){function b(){this.$context=a("#themify_builder_lightbox_parent");this.elmtSelector="#builder_live_styled_elmt";this.isInit=!1;this.style_tab=".themify_builder_style_tab";this.selectorQueue=[];this.data=[];var d=this;a("body").on("builderiframeloaded.themify",function(f){a(".themify_builder_site_canvas").css("width",a(window).width());d.iframe=g.Frontend.responsiveFrame.contentWindow;d.bindLightboxForm();a(document).trigger("tfb.live_styling.after_create",d)})}b.prototype.init=function(d,
f){this.remove();this.$liveStyledElmt=d;this.currentStyleObj="object"===typeof f?f:{};this.isInit=!0;a(document).trigger("tfb.live_styling.after_init",this)};b.prototype.setLiveStyledElmtID=function(){this.$liveStyledElmt.prop("id",this.elmtSelector.substring(1))};b.prototype.unsetLiveStyledElmtID=function(){this.$liveStyledElmt.prop("id",!1);a("#"+this.elmtSelector.substring(1)).prop("id",!1)};b.prototype.isModuleExists=function(a){return this.data["module-inner"]&&this.data["module-inner"][a]?!0:
!1};b.prototype.isComponentExists=function(a){return this.data[a]?!0:!1};b.prototype.addStyleDate=function(a,f){this.isComponentExists[a]||(this.data[a]=f)};b.prototype.convertToPX=function(d,f){var b=parseInt(f),e=f.match(/\D{1,2}$/);e[0]&&"%"===e[0]?b=a(d).outerWidth()*b/100:e[0]&&"em"===e[0]&&(b*=parseInt(a(d).css("fontSize")));return b};b.prototype.setLiveStyle=function(d,f){f||(f=[""]);var b=".themify_builder .tb_element_cid_"+g.activeModel.cid,e="module"===g.activeModel.get("elType")?" ":"",
c=this;f.forEach(function(f){f=f&&0<f.length?b+e+f.trim():b;g.styleSheet.setStyles(f,d);if(a(f).hasClass("fullwidth")){var h=a(tbLocalScript.fullwidth_container),n=a(f).closest(".themify_builder_content"),p=n.offset().left-h.offset().left,n=h.outerWidth()-p-n.outerWidth(),q=a(f).data("padding"),k=a(f).data("margin");q&&(d["padding-left"]&&(a(f).css({paddingLeft:""}),q[0]=c.convertToPX(f,d["padding-left"])),d["padding-right"]&&(a(f).css({paddingRight:""}),q[1]=c.convertToPX(f,d["padding-right"])),
(d["padding-left"]||d["padding-right"])&&a(f).data("padding",q));k&&(d["margin-left"]&&(k[0]=c.convertToPX(f,d["margin-left"]),a(f).css({marginLeft:-p+k[0]})),d["margin-right"]&&(k[1]=c.convertToPX(f,d["margin-right"]),a(f).css({marginRight:-n+k[1]})),d["margin-left"]||d["margin-right"])&&(a(f).css({width:h.outerWidth()-(k[0]+k[1])+"px"}),a(f).data("margin",k))}});g.Frontend.responsiveFrame.doSync()};b.prototype.bindColors=function(){var d=this;this.$context.on("change","input.colordisplay",function(){var d=
0<a(this).val().length?"#"+a(this).val():"",b=a(this).parent().find(".builderColorSelectInput").prop("name");a("body").trigger("themify_builder_color_picker_change",[b,d])});this.$context.on("change","input.color_opacity",function(){var d=a(this).val(),b="#"+a(this).parent().find(".colordisplay").prop("value"),e=a(this).parent().find(".builderColorSelectInput").prop("name"),b=(b=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})$/.exec(b))?"rgba("+parseInt(b[1],16)+", "+parseInt(b[2],16)+", "+parseInt(b[3],
16)+", "+d+")":"";a(this).parent().find(".builderColorSelectInput").prop("value",a(this).parent().find(".colordisplay").prop("value")+"_"+d);a("body").trigger("themify_builder_color_picker_change",[e,b])});a("body").on("themify_builder_color_picker_change",function(f,b,e){if("cover_color"===b)b=d.$context.find('input[name="'+b+'-type"]:checked'),"color"!==b.val()&&"hover_color"!==b.val()||d.addOrRemoveComponentOverlay(e,!1);else if(d.isInit){f=a('input[name="'+b+'"]');if(0<f.next(".style_border").length&&
f.closest(".themify_builder_field").nextAll(".themify_builder_field").last().find(".style_apply_all_border").is(":checked"))return!1;b=d.getValue(b);f=b.selector;var c={};b&&(c[b.prop]=e,d.setLiveStyle(c,f))}})};b.prototype.overlayType=function(){this.$context.on("change",'input[name="cover_color-type"]',function(){"color"===a(this).val()?a('input[name="cover_color"]',this.$context).prev().trigger("change"):a("#"+a(this).val()+"-gradient-type").trigger("change")})};b.prototype.getSpecialTextSelectors=
function(){return" h1; h2; h3:not(.module-title); h4; h5; h6".split(";")};b.prototype.addOrRemoveComponentOverlay=function(d,f){var e=b.getComponentBgOverlay(this.$liveStyledElmt);if(d.length){var c=0!==e.length;c||(e=a("<div/>",{"class":"builder_row_cover"}));e.data("color",d);e.attr("data-color-val",d);f?e.css({background:d,"background-color":""}):e.css({"background-image":"",background:d});if(!c){c=b.getComponentBgSlider(this.$liveStyledElmt);if(!c.length){var c="",g=ThemifyBuilderCommon.getComponentType(this.$liveStyledElmt);
if("row"===g)c=".row_inner_wrapper";else if("col"===g||"sub-col"===g)c=".tb-column-inner";c=this.$liveStyledElmt.children(c)}e.insertBefore(c)}}else e.remove()};b.prototype.bindTextInputs=function(){var d=this;a("body").delegate(d.style_tab+' input[type="text"]',"keyup",function(){var f=a(this).prop("id"),b=d.getValue(f),e={};if(b){var c=a.trim(a(this).val());if(0<a("#"+f+"_unit").length&&""!==c)c+=a("#"+f+"_unit").val()?a("#"+f+"_unit").val():"px";else if(a(this).hasClass("style_border")){if(a(this).closest(".themify_builder_field").nextAll(".themify_builder_field").last().find(".style_apply_all_border").is(":checked"))return!1;
(c=parseFloat(c))?(a(this).closest(".themify_builder_field").find("select").trigger("change"),c=c.toString()):c="0";c+="px"}else a(this).hasClass("style_field_px")&&(c+="px",a(this).closest(".themify_builder_field").find("select").length&&a(this).closest(".themify_builder_field").find("select").trigger("change"));e[b.prop]=c;d.setLiveStyle(e,b.selector)}});a("body").delegate(d.style_tab+' [id$="_unit"]',"change",function(){var d=a(this).prop("id").replace("_unit","");a("#"+d).trigger("keyup")})};
b.prototype.bindRowWidthHeight=function(){var d=this;this.$context.on("change",'input[name="row_height"]',function(){var f=d.getStylingVal("row_height"),b=a(this).val();0<b.length?(0<f.length&&d.$liveStyledElmt.removeClass(f),d.setStylingVal(a(this).prop("name"),b),d.$liveStyledElmt.addClass(b)):d.$liveStyledElmt.removeClass(f)});this.$context.on("change",'input[name="row_width"]',function(){d.getStylingVal("row_width");var f=a(this).val();"fullwidth"==f?(d.$liveStyledElmt.removeClass("fullwidth").addClass("fullwidth_row_container"),
""==tbLocalScript.fullwidth_support&&ThemifyBuilderModuleJs.setupFullwidthRows()):"fullwidth-content"==f?(d.$liveStyledElmt.removeClass("fullwidth_row_container").addClass("fullwidth"),""==tbLocalScript.fullwidth_support&&ThemifyBuilderModuleJs.setupFullwidthRows()):(d.$liveStyledElmt.removeClass("fullwidth fullwidth_row_container"),""==tbLocalScript.fullwidth_support&&d.$liveStyledElmt.css({"margin-left":"","margin-right":"","padding-left":"","padding-right":"",width:""}));a("body").trigger("builderfullwidth.themify",
[d.$liveStyledElmt])})};b.prototype.removeAnimations=function(a,f){f.removeClass(a+" wow animated").css("animation-name","")};b.prototype.addAnimation=function(a,f){f.addClass(a+" animated")};b.prototype.bindAnimation=function(){var d=this;this.$context.on("change","#animation_effect",function(){var f=d.getStylingVal("animation_effect");a(this).val().length?(f.length&&d.removeAnimations(f,d.$liveStyledElmt),f=a(this).val(),d.setStylingVal("animation_effect",f),d.addAnimation(f,d.$liveStyledElmt)):
d.removeAnimations(f,d.$liveStyledElmt)})};b.prototype.bindAdditionalCSSClass=function(){var d=this;this.$context.on("keyup","#custom_css_row, #custom_css_column",function(){var f=this.id,b=d.getStylingVal(f);d.$liveStyledElmt.removeClass(b);b=a(this).val();d.setStylingVal(f,b);d.$liveStyledElmt.addClass(b)})};b.prototype.bindRowAnchor=function(){var d=this;this.$context.on("keyup","#row_anchor",function(){var f=d.getStylingVal("row_anchor");d.$liveStyledElmt.removeClass(d.getRowAnchorClass(f));f=
a(this).val();d.setStylingVal("row_anchor",f);d.$liveStyledElmt.addClass(d.getRowAnchorClass(f))})};b.prototype.getRowAnchorClass=function(a){return 0<a.length?"tb_section-"+a:""};b.prototype.getStylingVal=function(a){return this.currentStyleObj.hasOwnProperty(a)?this.currentStyleObj[a]:""};b.prototype.setStylingVal=function(a,f){this.currentStyleObj[a]=f};b.prototype.bindBackgroundMode=function(){var d=this;this.$context.on("change","#background_repeat",function(){var f=d.getStylingVal("background_repeat"),
b=a(this).val();b&&0<b.length?(0<f.length&&d.$liveStyledElmt.removeClass(f),d.setStylingVal("background_repeat",b),d.$liveStyledElmt.addClass(b)):d.$liveStyledElmt.removeClass(f)})};b.prototype.bindBackgroundPosition=function(){var d=this;this.$context.on("change","#background_position",function(){var b=d.getStylingVal("background_position"),c=a(this).val();c&&0<c.length?(0<b.length&&d.$liveStyledElmt.removeClass(b),c="bg-position-"+c,d.setStylingVal("background_position",c),d.$liveStyledElmt.addClass(c)):
d.$liveStyledElmt.removeClass(b)})};b.prototype.isWebSafeFont=function(a){return-1!==themifyBuilder.webSafeFonts.indexOf(a)};b.prototype.bindBackgroundSlider=function(){var d=function(){return{shortcode:encodeURIComponent(a("#background_slider").val()),mode:a("#background_slider_mode").val(),size:a("#background_slider_size").val(),order:ThemifyBuilderCommon.getComponentOrder(this.$liveStyledElmt),type:ThemifyBuilderCommon.getComponentType(this.$liveStyledElmt)}}.bind(this);var f=function(a){var d=
ThemifyBuilderCommon.getComponentType(this.$liveStyledElmt),f=b.getComponentBgOverlay(this.$liveStyledElmt);f.length?f.after(a):"row"==d?this.$liveStyledElmt.children(".themify_builder_row_top").after(a):this.$liveStyledElmt.prepend(a)}.bind(this);var c=function(a){ThemifyBuilderModuleJs.backgroundSlider(a)};var e=this;this.$context.on("change","#background_slider, #background_slider_mode,#background_slider_size",function(){b.removeBgSlider(e.$liveStyledElmt);a("#background_slider").val().length&&
a.post(themifyBuilder.ajaxurl,{nonce:themifyBuilder.tfb_load_nonce,action:"tfb_slider_live_styling",tfb_background_slider_data:d()}).done(function(d){10>d.length||(d=a(d),f(d),c(a(d.get(0))))})})};b.prototype.VideoOptions=function(){var d=this;this.$context.on("change",'input[name="background_video_options"]',function(){if(d.isInit){var b=d.$liveStyledElmt.children(".big-video-wrap").first(),c="";if(b.hasClass("themify_ytb_wrapper"))b=b.closest("[data-fullwidthvideo]"),0<b.length&&(c="ytb");else if(b.hasClass("themify-video-vmieo"))(b=
$f(b.children("iframe")[0]))&&(c="vimeo");else if(b=b.closest("[data-fullwidthvideo]").data("video"))b=b.getPlayer(),c="local";"mute"===a(this).val()?a(this).is(":checked")?"ytb"===c?b.ThemifyYTBMute():"vimeo"===c?b.api("setVolume",0):"local"===c&&b.muted(!0):"ytb"===c?b.ThemifyYTBUnmute():"vimeo"===c?b.api("setVolume",1):"local"===c&&b.muted(!1):"unloop"===a(this).val()&&(a(this).is(":checked")?"vimeo"===c?b.api("setLoop",0):"local"===c&&b.loop(!1):"vimeo"===c?b.api("setLoop",1):"local"===c&&b.loop(!0))}})};
b.prototype.bindBackgroundTypeRadio=function(){var d=this;this.$context.on("change",'input[name="background_type"]',function(){if(d.isInit){var c=ThemifyBuilderCommon.getCheckedRadioInGroup(a(this),d.$context).val();"image"===c||"gradient"===c?(b.removeBgSlider(d.$liveStyledElmt),b.removeBgVideo(d.$liveStyledElmt),"image"===c?d.setLiveStyle({"background-image":"none"},[""]):c+="-gradient-angle"):"video"===c?b.removeBgSlider(d.$liveStyledElmt):(b.removeBgVideo(d.$liveStyledElmt),d.setLiveStyle({"background-image":"none"},
[""]));d.$context.find("#background_"+c).trigger("change")}})};b.prototype.bindVisibilityCheckbox=function(){this.$context.on("change",'input[name="visibility_all"]',function(){a(this).closest(".themify_builder_options_tab_content").find('input[type="radio"]').prop("disabled",a(this).is(":checked"))})};b.prototype.bindStylingToggles=function(){a("body").on("mousedown",".themify_builder_admin input.tfb-icon-radio+label",function(d){a(this).prev("input").is(":checked")&&a(this).prev("input").prop("uncheck",
!0)});a("body").on("click",".themify_builder_admin input.tfb-icon-radio",function(d){a(this).prop("uncheck")&&(a(this).prop("checked",!1),a(this).prop("uncheck",!1),a(this).trigger("change"),console.log(a(this).val()))})};b.prototype.bindBackgroundGradient=function(a,b,c){function d(){if("undefined"===typeof d.pre){var a=window.getComputedStyle(document.documentElement,"");d.pre=(Array.prototype.slice.call(a).join("").match(/-(moz|webkit|ms)-/)||""===a.OLink&&["","o"])[1]}return d.pre}if(this.isInit){var e=
this.getValue(a),f={};if(e){b=b.replace(/background-image:/ig,"").split(";");var g={moz:0,webkit:4,o:2,ms:3};a=d();b=g[a]&&b[g[a]]?b[g[a]]:b[4];if(c)return b;f[e.prop]=b;this.setLiveStyle(f,e.selector)}}};b.prototype.bindModuleLayout=function(){var d=this,b={layout_feature:"",layout_menu:"ul.ui.nav:first"};Object.keys(b).forEach(function(c){d.$context.on("click","#"+c+" > a",function(){var e=a(this).attr("id"),f=d.$liveStyledElmt;""!==b[c]&&(f=d.$liveStyledElmt.find(b[c]));var g=d.getStylingVal(c);
"layout_feature"===c&&(e="layout-"+e,g="layout-"+g);f.removeClass(g).addClass(e);"layout_feature"===c&&(e=e.substr(7));d.setStylingVal(c,e)})})};b.prototype.bindModuleRadio=function(){var b=this,c={buttons_style:"> .module-buttons",buttons_size:"> .module-buttons",icon_style:"> .module-icon",icon_size:"> .module-icon",icon_arrangement:"> .module-icon"};Object.keys(c).forEach(function(d){b.$context.on("change","#"+d+' input[type="radio"]',function(){if(b.$liveStyledElmt){var e=a(this).val(),f=""!==
c[d]?b.$liveStyledElmt.find(c[d]):b.$liveStyledElmt,g=b.getStylingVal(d);f.removeClass(g).addClass(e);b.setStylingVal(d,e)}})})};b.prototype.bindModuleColor=function(){var b=this,c={color_menu:"ul.ui.nav:first",mod_color_pricing_table:["","> .module-pricing-table-header",".module-pricing-table-button"],icon_color_bg:"> .module-icon i"},e=Object.keys(c).reduce(function(a,b,d){0!==d&&(a+=",");return a+("#"+b+" > a")},"");b.$context.on("click",e,function(){var d=a(this),e=d.parent().attr("id"),f=a(this).attr("id"),
g=d.closest(".themify_builder_row_js_wrapper"),h=c[e];Array.isArray(h)||(h=[h]);var l=a([]);h.forEach(function(a){l=""===a?l.add(b.$liveStyledElmt):l.add(b.$liveStyledElmt.find(a))});if(0<g.length){var m=d.closest(".themify_builder_row").index();var k=e;e+="_"+m;l=a(l[m])}d=b.getStylingVal(e);!d&&0<g.length&&(g=b.getStylingVal(g.attr("id")),g[m]&&g[m][k]&&(d=g[m][k]));l.removeClass(d).addClass(f);b.setStylingVal(e,f)})};b.prototype.setApplyBorder=function(b,c,e){var d=this.getValue(b),f={};d&&("color"===
e&&"rgba(0, 0, 0, 1)"===c&&(c="",""===a("#"+b.replace("color","width")).val()&&(f["border-style"]="")),f["border-"+e]="width"===e?0<c?c+"px":"":c,this.setLiveStyle(f,d.selector))};b.prototype.bindChangesEvent=function(){var d=this;a("body").delegate(d.style_tab+" select,"+d.style_tab+' input[type="radio"],'+d.style_tab+" .themify-builder-uploader-input","change",function(){if(d.isInit){var c=a(this).is("select")||a(this).hasClass("themify-builder-uploader-input")?a(this).prop("id"):a(this).parent(".tfb_lb_option").prop("id"),
c=d.getValue(c),e={};if(c){var g=a(this).val(),p=c.selector;a(this).is("input[type='radio']")&&!a(this).is(":checked")&&(g="");if(!_.isNull(g)){if(a(this).hasClass("font-family-select"))"default"===g||d.isWebSafeFont(g)?"default"===g&&(g=""):ThemifyBuilderCommon.loadGoogleFonts([g.split(" ").join("+")+":400,700:latin,latin-ext"],d.iframe);else if(a(this).hasClass("themify-builder-uploader-input"))if(0<a(this).closest(".themify_builder_input").find(".thumb_preview").length)g=g?"url("+g+")":"none";
else return d.$liveStyledElmt.data("fullwidthvideo",g),0<g.length?ThemifyBuilderModuleJs.fullwidthVideo(d.$liveStyledElmt):b.removeBgVideo(d.$liveStyledElmt),!1;else if(!a(this).hasClass("style_field_select")&&a(this).is("select")&&0<a(this).find('[value="dashed"]').length&&("none"!==g&&!parseInt(a(this).closest(".themify_builder_input").find(".style_border").val())||a(this).closest(".themify_builder_field").nextAll(".themify_builder_field").last().find(".style_apply_all_border").is(":checked")))return!1;
e[c.prop]=g;d.setLiveStyle(e,p)}}}})};b.prototype.getValue=function(b){if(this.isInit){var d=ThemifyBuilderCommon.getComponentType(this.$liveStyledElmt);_.contains(["sub-col","col"],d)&&(d="column");return"module-inner"===d?(d=a(this.style_tab).data("module"))&&this.data[d]&&this.data[d][b]?this.data[d][b]:!1:this.data[d]&&this.data[d][b]?this.data[d][b]:!1}return!1};b.prototype.bindModuleApppearance=function(){var b=this,c=function(d){return b.$context.find("#"+d+" > input:checked").map(function(b,
d){return a(d).val()}).toArray().join(" ")},e={accordion_appearance_accordion:"> ul.ui.module-accordion",appearance_button:"> .ui.builder_button",appearance_callout:"",action_btn_appearance_callout:".callout-button a",according_style_menu:"ul.ui.nav:first",mod_appearance_pricing_table:["","> .module-pricing-table-header",".module-pricing-table-button"]},g=Object.keys(e).reduce(function(a,b,d){0!==d&&(a+=",");return a+("#"+b+" > input")},"");b.$context.on("change",g,function(){var d=a(this).parent().attr("id"),
f=e[d];Array.isArray(f)||(f=[f]);var g=a([]);f.forEach(function(a){g=""===a?g.add(b.$liveStyledElmt):g.add(b.$liveStyledElmt.find(a))});var f=b.getStylingVal(d).split("|").join(" "),h=c(d);"mod_appearance_pricing_table"===d&&(f+=" "+f.split(" ").join("|"),h+=" "+h.split(" ").join("|"));g.removeClass(f).addClass(h);b.setStylingVal(d,c(d).split(" ").join("|"))})};b.prototype.bindLightboxForm=function(){this.bindChangesEvent();this.bindColors();this.bindTextInputs();this.bindBackgroundMode();this.bindBackgroundPosition();
this.bindAnimation();this.bindBackgroundSlider();this.bindBackgroundTypeRadio();this.VideoOptions();this.overlayType();this.bindVisibilityCheckbox();this.bindStylingToggles();this.bindModuleLayout();this.bindModuleColor();this.bindModuleApppearance();this.bindModuleRadio();this.bindRowAnchor();this.bindAdditionalCSSClass();this.bindRowWidthHeight()};b.prototype.resetStyling=function(){a("#background_repeat,#row_anchor,#custom_css_row,#custom_css_column,#add_css_text,#animation_effect,input[name=row_height],input[name=row_width]",
this.$context).trigger("change");b.getComponentStyleTag(this.$liveStyledElmt).remove();this.addOrRemoveComponentOverlay("");this._removeAllLiveStyles()};b.getComponentBgOverlay=function(a){return a.children(".builder_row_cover")};b.getComponentBgSlider=function(a){return a.children(".row-slider, .col-slider, .sub-col-slider, .sub_row-slider")};b.getComponentBgVideo=function(a){return a.children(".big-video-wrap")};b.getComponentStyleTag=function(a){var b=ThemifyBuilderCommon.getComponentType(a),d=
null;"row"===b?d=a.find(".row_inner").children("style"):"col"===b?d=a.find(".tb-column-inner").children("style"):"subrow"===b?d=a.children("style"):"sub-col"===b?d=a.children("style"):"module-inner"===b&&(d=a.siblings("style"));return d};b.removeBgSlider=function(a){b.getComponentBgSlider(a).add(a.children(".backstretch")).remove();a.css({position:"",background:"","z-index":""})};b.removeBgVideo=function(a){b.getComponentBgVideo(a).remove()};b.prototype._removeAllLiveStyles=function(){var a=this;
this.getSpecialTextSelectors().concat(" a").forEach(function(b){e.remove(a.elmtSelector+b);a.frameJss&&a.frameJss.remove(a.elmtSelector+b)});a.selectorQueue.forEach(function(b){e.remove(b);a.frameJss&&a.frameJss.remove(b)});a.selectorQueue=[];e.remove(this.elmtSelector);a.frameJss&&a.frameJss.remove(this.elmtSelector);g.Frontend.responsiveFrame.doSync()};b.prototype.remove=function(){this.isInit&&(this.currentStyleObj=this.$liveStyledElmt=null,this.isInit=!1)};b.toRGBA=function(a){a=a.split("_");
var b=/^([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})$/;if("undefined"!==typeof a[0])return b=b.exec(a[0]),a="undefined"!==typeof a[1]?a[1]:1,b?"rgba("+parseInt(b[1],16)+", "+parseInt(b[2],16)+", "+parseInt(b[3],16)+", "+a+")":""};return b}(jQuery)})(jQuery);
