if(typeof Object.create!=="function"){Object.create=function(b){function a(){}a.prototype=b;return new a()}}(function(f,h,j){var d=function d(n){Themify.LoadAsync("//www.youtube.com/iframe_api");c(n)},c=function c(n){if(typeof YT==="undefined"&&typeof h.loadingPlayer==="undefined"){h.loadingPlayer=true;h.dfd=f.Deferred();h.onYouTubeIframeAPIReady=function(){h.onYouTubeIframeAPIReady=null;h.dfd.resolve("done");n()}}else{if(typeof YT==="object"){n()}else{h.dfd.done(function(o){n()})}}};YTPlayer={player:null,defaults:{ratio:16/9,videoId:"LSmgKRx5pBo",mute:true,repeat:true,width:f(h).width(),playButtonClass:"YTPlayer-play",pauseButtonClass:"YTPlayer-pause",muteButtonClass:"YTPlayer-mute",volumeUpClass:"YTPlayer-volume-up",volumeDownClass:"YTPlayer-volume-down",start:0,pauseOnScroll:false,playerVars:{iv_load_policy:3,modestbranding:1,autoplay:1,controls:0,showinfo:0,wmode:"opaque",branding:0,autohide:0},events:null},init:function m(o,p){var n=this;n.userOptions=p;n.$body=f("body"),n.$node=f(o),n.$window=f(h);n.defaults.events={onReady:function(q){n.onPlayerReady(q);if(n.options.pauseOnScroll){n.pauseOnScroll()}if(typeof n.options.callback=="function"){n.options.callback.call(this)}},onStateChange:function(q){if(q.data===0&&n.options.repeat){n.player.seekTo(n.options.start)}}};n.options=f.extend(true,{},n.defaults,n.userOptions);n.options.height=Math.ceil(n.options.width/n.options.ratio);n.ID=(new Date()).getTime();n.holderID="YTPlayer-ID-"+n.ID;n.createBackgroundVideo();n.$window.on("resize.YTplayer"+n.ID,function(){n.resize(n)});d(n.onYouTubeIframeAPIReady.bind(n));n.resize(n);return n},pauseOnScroll:function a(){var n=this;n.$window.on("scroll.YTplayer"+n.ID,function(){var o=n.player.getPlayerState();if(o===1){n.player.pauseVideo()}});n.$window.scrollStopped(function(){var o=n.player.getPlayerState();if(o===2){n.player.playVideo()}})},createBackgroundVideo:function k(){var o=this,n=f('<div id="ytplayer-container'+o.ID+'" class="themify-youtube-video big-video-wrap"><div id="'+o.holderID+'" class="ytplayer-player"></div></div>');if(o.$node.children(".big-video-wrap").length===0){o.$node.prepend(n);o.$YTPlayerString=n;n=null}},resize:function b(q){var p=q.$node;var r=p.outerWidth(true),n=p.outerHeight(true),s=Math.ceil(r/q.options.ratio),o=f("#"+q.holderID);o.width(r).height(s).css({left:0,top:(n-s)/2});o=null;p=null},onYouTubeIframeAPIReady:function i(){var n=this;n.player=new h.YT.Player(n.holderID,n.options)},onPlayerReady:function g(n){if(this.options.mute){n.target.mute()}n.target.playVideo()},getPlayer:function e(){return this.player},destroy:function l(){var n=this;n.$node.removeData("ytPlayer").removeClass("loaded");n.$YTPlayerString.remove();f(h).off("resize.YTplayer"+n.ID);f(h).off("scroll.YTplayer"+n.ID);n.$body=null;n.$node=null;n.$YTPlayerString=null;n.player.destroy();n.player=null}};f.fn.scrollStopped=function(p){var o=f(this),n=this;o.scroll(function(){if(o.data("scrollTimeout")){clearTimeout(o.data("scrollTimeout"))}o.data("scrollTimeout",setTimeout(p,250,n))})};f.fn.YTPlayer=function(n){return this.each(function(){var p=this;var o=Object.create(YTPlayer);o.init(p,n);f(p).data("ytPlayer",o)})}})(jQuery,window,document);