(function(d,f,g,a){var b;function e(k){d(".prompt-box .show-login").show();d(".prompt-box .show-error").hide();if(k==="error"){if(d(".prompt-box .prompt-error").length===0){d(".prompt-box .prompt-msg").after('<p class="prompt-error">'+themify_lang.invalid_login+"</p>")}}else{d(".prompt-box .prompt-error").remove()}d(".prompt-box").addClass("update-plugin");d(".overlay, .prompt-box").fadeIn(500)}function j(){d(".overlay, .prompt-box").fadeOut(500)}function c(){d(".alert").addClass("busy").fadeIn(800)}function h(k){if(k==="error"){k="error";i()}else{k="done"}d(".alert").removeClass("busy").addClass(k).delay(800).fadeOut(800,function(){d(this).removeClass(k)})}function i(k){d(".overlay, .prompt-box").delay(900).fadeIn(500);d(".prompt-box .show-error").show();d(".prompt-box .show-error p").remove();d(".prompt-box .error-msg").after('<p class="prompt-error">'+k+"</p>");d(".prompt-box .show-login").hide()}d(function(){d(".themify-builder-upgrade-plugin").on("click",function(k){k.preventDefault();b=d(this);e()});d(".themify-builder-upgrade-login").on("click",function(n){n.preventDefault();if(d(".prompt-box").hasClass("update-plugin")){var m=d(this),o=m.parent().parent().find(".username").val(),l=m.parent().parent().find(".password").val(),k=m.closest(".notifications").find(".update").hasClass("login");if(o!==""&&l!==""){j();c();d.post(ajaxurl,{action:"themify_builder_validate_login",type:"plugin",login:k,username:o,password:l,nicename_short:b.data("nicename_short"),update_type:b.data("update_type")},function(p){p=d.trim(p);if(p==="true"){h();d("#themify_update_form").append('<input type="hidden" name="plugin" value="'+b.data("plugin")+'" /><input type="hidden" name="package_url" value="'+b.data("package_url")+'" />').submit()}else{if(p==="false"||"invalid"===p){h("error");e("error")}}})}else{h("error");e("error")}}});d(".overlay").on("click",function(){j()})})}(jQuery,window,document));